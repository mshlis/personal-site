<!DOCTYPE html><html itemscope itemtype="http://schema.org/WebPage" lang="en"><head><meta content="text/html;charset=utf-8" http-equiv="content-type"><meta content="IE=edge" http-equiv="X-UA-Compatible"><meta content="width=device-width,initial-scale=1" name="viewport" id="viewport"><style type="text/css">:host,:root{--fa-font-solid:normal 900 1em/1 "Font Awesome 6 Solid";--fa-font-regular:normal 400 1em/1 "Font Awesome 6 Regular";--fa-font-light:normal 300 1em/1 "Font Awesome 6 Light";--fa-font-thin:normal 100 1em/1 "Font Awesome 6 Thin";--fa-font-duotone:normal 900 1em/1 "Font Awesome 6 Duotone";--fa-font-brands:normal 400 1em/1 "Font Awesome 6 Brands"}svg:not(:host).svg-inline--fa,svg:not(:root).svg-inline--fa{overflow:visible;box-sizing:content-box}.svg-inline--fa{display:var(--fa-display,inline-block);height:1em;overflow:visible;vertical-align:-.125em}.svg-inline--fa.fa-2xs{vertical-align:.1em}.svg-inline--fa.fa-xs{vertical-align:0}.svg-inline--fa.fa-sm{vertical-align:-.0714285705em}.svg-inline--fa.fa-lg{vertical-align:-.2em}.svg-inline--fa.fa-xl{vertical-align:-.25em}.svg-inline--fa.fa-2xl{vertical-align:-.3125em}.svg-inline--fa.fa-pull-left{margin-right:var(--fa-pull-margin,.3em);width:auto}.svg-inline--fa.fa-pull-right{margin-left:var(--fa-pull-margin,.3em);width:auto}.svg-inline--fa.fa-li{width:var(--fa-li-width,2em);top:.25em}.svg-inline--fa.fa-fw{width:var(--fa-fw-width,1.25em)}.fa-layers svg.svg-inline--fa{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.fa-layers-counter,.fa-layers-text{display:inline-block;position:absolute;text-align:center}.fa-layers{display:inline-block;height:1em;position:relative;text-align:center;vertical-align:-.125em;width:1em}.fa-layers svg.svg-inline--fa{-webkit-transform-origin:center center;transform-origin:center center}.fa-layers-text{left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-transform-origin:center center;transform-origin:center center}.fa-layers-counter{background-color:var(--fa-counter-background-color,#ff253a);border-radius:var(--fa-counter-border-radius,1em);box-sizing:border-box;color:var(--fa-inverse,#fff);line-height:var(--fa-counter-line-height,1);max-width:var(--fa-counter-max-width,5em);min-width:var(--fa-counter-min-width,1.5em);overflow:hidden;padding:var(--fa-counter-padding,.25em .5em);right:var(--fa-right,0);text-overflow:ellipsis;top:var(--fa-top,0);-webkit-transform:scale(var(--fa-counter-scale,.25));transform:scale(var(--fa-counter-scale,.25));-webkit-transform-origin:top right;transform-origin:top right}.fa-layers-bottom-right{bottom:var(--fa-bottom,0);right:var(--fa-right,0);top:auto;-webkit-transform:scale(var(--fa-layers-scale,.25));transform:scale(var(--fa-layers-scale,.25));-webkit-transform-origin:bottom right;transform-origin:bottom right}.fa-layers-bottom-left{bottom:var(--fa-bottom,0);left:var(--fa-left,0);right:auto;top:auto;-webkit-transform:scale(var(--fa-layers-scale,.25));transform:scale(var(--fa-layers-scale,.25));-webkit-transform-origin:bottom left;transform-origin:bottom left}.fa-layers-top-right{top:var(--fa-top,0);right:var(--fa-right,0);-webkit-transform:scale(var(--fa-layers-scale,.25));transform:scale(var(--fa-layers-scale,.25));-webkit-transform-origin:top right;transform-origin:top right}.fa-layers-top-left{left:var(--fa-left,0);right:auto;top:var(--fa-top,0);-webkit-transform:scale(var(--fa-layers-scale,.25));transform:scale(var(--fa-layers-scale,.25));-webkit-transform-origin:top left;transform-origin:top left}.fa-1x{font-size:1em}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-6x{font-size:6em}.fa-7x{font-size:7em}.fa-8x{font-size:8em}.fa-9x{font-size:9em}.fa-10x{font-size:10em}.fa-2xs{font-size:.625em;line-height:.1em;vertical-align:.225em}.fa-xs{font-size:.75em;line-height:.0833333337em;vertical-align:.125em}.fa-sm{font-size:.875em;line-height:.0714285718em;vertical-align:.0535714295em}.fa-lg{font-size:1.25em;line-height:.05em;vertical-align:-.075em}.fa-xl{font-size:1.5em;line-height:.0416666682em;vertical-align:-.125em}.fa-2xl{font-size:2em;line-height:.03125em;vertical-align:-.1875em}.fa-fw{text-align:center;width:1.25em}.fa-ul{list-style-type:none;margin-left:var(--fa-li-margin,2.5em);padding-left:0}.fa-ul>li{position:relative}.fa-li{left:calc(var(--fa-li-width,2em) * -1);position:absolute;text-align:center;width:var(--fa-li-width,2em);line-height:inherit}.fa-border{border-color:var(--fa-border-color,#eee);border-radius:var(--fa-border-radius,.1em);border-style:var(--fa-border-style,solid);border-width:var(--fa-border-width,.08em);padding:var(--fa-border-padding,.2em .25em .15em)}.fa-pull-left{float:left;margin-right:var(--fa-pull-margin,.3em)}.fa-pull-right{float:right;margin-left:var(--fa-pull-margin,.3em)}.fa-beat{-webkit-animation-name:fa-beat;animation-name:fa-beat;-webkit-animation-delay:var(--fa-animation-delay,0);animation-delay:var(--fa-animation-delay,0);-webkit-animation-direction:var(--fa-animation-direction,normal);animation-direction:var(--fa-animation-direction,normal);-webkit-animation-duration:var(--fa-animation-duration,1s);animation-duration:var(--fa-animation-duration,1s);-webkit-animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-iteration-count:var(--fa-animation-iteration-count,infinite);-webkit-animation-timing-function:var(--fa-animation-timing,ease-in-out);animation-timing-function:var(--fa-animation-timing,ease-in-out)}.fa-bounce{-webkit-animation-name:fa-bounce;animation-name:fa-bounce;-webkit-animation-delay:var(--fa-animation-delay,0);animation-delay:var(--fa-animation-delay,0);-webkit-animation-direction:var(--fa-animation-direction,normal);animation-direction:var(--fa-animation-direction,normal);-webkit-animation-duration:var(--fa-animation-duration,1s);animation-duration:var(--fa-animation-duration,1s);-webkit-animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-iteration-count:var(--fa-animation-iteration-count,infinite);-webkit-animation-timing-function:var(--fa-animation-timing,cubic-bezier(.28,.84,.42,1));animation-timing-function:var(--fa-animation-timing,cubic-bezier(.28,.84,.42,1))}.fa-fade{-webkit-animation-name:fa-fade;animation-name:fa-fade;-webkit-animation-delay:var(--fa-animation-delay,0);animation-delay:var(--fa-animation-delay,0);-webkit-animation-direction:var(--fa-animation-direction,normal);animation-direction:var(--fa-animation-direction,normal);-webkit-animation-duration:var(--fa-animation-duration,1s);animation-duration:var(--fa-animation-duration,1s);-webkit-animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-iteration-count:var(--fa-animation-iteration-count,infinite);-webkit-animation-timing-function:var(--fa-animation-timing,cubic-bezier(.4,0,.6,1));animation-timing-function:var(--fa-animation-timing,cubic-bezier(.4,0,.6,1))}.fa-beat-fade{-webkit-animation-name:fa-beat-fade;animation-name:fa-beat-fade;-webkit-animation-delay:var(--fa-animation-delay,0);animation-delay:var(--fa-animation-delay,0);-webkit-animation-direction:var(--fa-animation-direction,normal);animation-direction:var(--fa-animation-direction,normal);-webkit-animation-duration:var(--fa-animation-duration,1s);animation-duration:var(--fa-animation-duration,1s);-webkit-animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-iteration-count:var(--fa-animation-iteration-count,infinite);-webkit-animation-timing-function:var(--fa-animation-timing,cubic-bezier(.4,0,.6,1));animation-timing-function:var(--fa-animation-timing,cubic-bezier(.4,0,.6,1))}.fa-flip{-webkit-animation-name:fa-flip;animation-name:fa-flip;-webkit-animation-delay:var(--fa-animation-delay,0);animation-delay:var(--fa-animation-delay,0);-webkit-animation-direction:var(--fa-animation-direction,normal);animation-direction:var(--fa-animation-direction,normal);-webkit-animation-duration:var(--fa-animation-duration,1s);animation-duration:var(--fa-animation-duration,1s);-webkit-animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-iteration-count:var(--fa-animation-iteration-count,infinite);-webkit-animation-timing-function:var(--fa-animation-timing,ease-in-out);animation-timing-function:var(--fa-animation-timing,ease-in-out)}.fa-shake{-webkit-animation-name:fa-shake;animation-name:fa-shake;-webkit-animation-delay:var(--fa-animation-delay,0);animation-delay:var(--fa-animation-delay,0);-webkit-animation-direction:var(--fa-animation-direction,normal);animation-direction:var(--fa-animation-direction,normal);-webkit-animation-duration:var(--fa-animation-duration,1s);animation-duration:var(--fa-animation-duration,1s);-webkit-animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-iteration-count:var(--fa-animation-iteration-count,infinite);-webkit-animation-timing-function:var(--fa-animation-timing,linear);animation-timing-function:var(--fa-animation-timing,linear)}.fa-spin{-webkit-animation-name:fa-spin;animation-name:fa-spin;-webkit-animation-delay:var(--fa-animation-delay,0);animation-delay:var(--fa-animation-delay,0);-webkit-animation-direction:var(--fa-animation-direction,normal);animation-direction:var(--fa-animation-direction,normal);-webkit-animation-duration:var(--fa-animation-duration,2s);animation-duration:var(--fa-animation-duration,2s);-webkit-animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-iteration-count:var(--fa-animation-iteration-count,infinite);-webkit-animation-timing-function:var(--fa-animation-timing,linear);animation-timing-function:var(--fa-animation-timing,linear)}.fa-spin-reverse{--fa-animation-direction:reverse}.fa-pulse,.fa-spin-pulse{-webkit-animation-name:fa-spin;animation-name:fa-spin;-webkit-animation-direction:var(--fa-animation-direction,normal);animation-direction:var(--fa-animation-direction,normal);-webkit-animation-duration:var(--fa-animation-duration,1s);animation-duration:var(--fa-animation-duration,1s);-webkit-animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-iteration-count:var(--fa-animation-iteration-count,infinite);-webkit-animation-timing-function:var(--fa-animation-timing,steps(8));animation-timing-function:var(--fa-animation-timing,steps(8))}@media (prefers-reduced-motion:reduce){.fa-beat,.fa-beat-fade,.fa-bounce,.fa-fade,.fa-flip,.fa-pulse,.fa-shake,.fa-spin,.fa-spin-pulse{-webkit-animation-delay:-1ms;animation-delay:-1ms;-webkit-animation-duration:1ms;animation-duration:1ms;-webkit-animation-iteration-count:1;animation-iteration-count:1;transition-delay:0s;transition-duration:0s}}@-webkit-keyframes fa-beat{0%,90%{-webkit-transform:scale(1);transform:scale(1)}45%{-webkit-transform:scale(var(--fa-beat-scale,1.25));transform:scale(var(--fa-beat-scale,1.25))}}@keyframes fa-beat{0%,90%{-webkit-transform:scale(1);transform:scale(1)}45%{-webkit-transform:scale(var(--fa-beat-scale,1.25));transform:scale(var(--fa-beat-scale,1.25))}}@-webkit-keyframes fa-bounce{0%{-webkit-transform:scale(1,1) translateY(0);transform:scale(1,1) translateY(0)}10%{-webkit-transform:scale(var(--fa-bounce-start-scale-x,1.1),var(--fa-bounce-start-scale-y,.9)) translateY(0);transform:scale(var(--fa-bounce-start-scale-x,1.1),var(--fa-bounce-start-scale-y,.9)) translateY(0)}30%{-webkit-transform:scale(var(--fa-bounce-jump-scale-x,.9),var(--fa-bounce-jump-scale-y,1.1)) translateY(var(--fa-bounce-height,-.5em));transform:scale(var(--fa-bounce-jump-scale-x,.9),var(--fa-bounce-jump-scale-y,1.1)) translateY(var(--fa-bounce-height,-.5em))}50%{-webkit-transform:scale(var(--fa-bounce-land-scale-x,1.05),var(--fa-bounce-land-scale-y,.95)) translateY(0);transform:scale(var(--fa-bounce-land-scale-x,1.05),var(--fa-bounce-land-scale-y,.95)) translateY(0)}57%{-webkit-transform:scale(1,1) translateY(var(--fa-bounce-rebound,-.125em));transform:scale(1,1) translateY(var(--fa-bounce-rebound,-.125em))}64%{-webkit-transform:scale(1,1) translateY(0);transform:scale(1,1) translateY(0)}100%{-webkit-transform:scale(1,1) translateY(0);transform:scale(1,1) translateY(0)}}@keyframes fa-bounce{0%{-webkit-transform:scale(1,1) translateY(0);transform:scale(1,1) translateY(0)}10%{-webkit-transform:scale(var(--fa-bounce-start-scale-x,1.1),var(--fa-bounce-start-scale-y,.9)) translateY(0);transform:scale(var(--fa-bounce-start-scale-x,1.1),var(--fa-bounce-start-scale-y,.9)) translateY(0)}30%{-webkit-transform:scale(var(--fa-bounce-jump-scale-x,.9),var(--fa-bounce-jump-scale-y,1.1)) translateY(var(--fa-bounce-height,-.5em));transform:scale(var(--fa-bounce-jump-scale-x,.9),var(--fa-bounce-jump-scale-y,1.1)) translateY(var(--fa-bounce-height,-.5em))}50%{-webkit-transform:scale(var(--fa-bounce-land-scale-x,1.05),var(--fa-bounce-land-scale-y,.95)) translateY(0);transform:scale(var(--fa-bounce-land-scale-x,1.05),var(--fa-bounce-land-scale-y,.95)) translateY(0)}57%{-webkit-transform:scale(1,1) translateY(var(--fa-bounce-rebound,-.125em));transform:scale(1,1) translateY(var(--fa-bounce-rebound,-.125em))}64%{-webkit-transform:scale(1,1) translateY(0);transform:scale(1,1) translateY(0)}100%{-webkit-transform:scale(1,1) translateY(0);transform:scale(1,1) translateY(0)}}@-webkit-keyframes fa-fade{50%{opacity:var(--fa-fade-opacity,.4)}}@keyframes fa-fade{50%{opacity:var(--fa-fade-opacity,.4)}}@-webkit-keyframes fa-beat-fade{0%,100%{opacity:var(--fa-beat-fade-opacity,.4);-webkit-transform:scale(1);transform:scale(1)}50%{opacity:1;-webkit-transform:scale(var(--fa-beat-fade-scale,1.125));transform:scale(var(--fa-beat-fade-scale,1.125))}}@keyframes fa-beat-fade{0%,100%{opacity:var(--fa-beat-fade-opacity,.4);-webkit-transform:scale(1);transform:scale(1)}50%{opacity:1;-webkit-transform:scale(var(--fa-beat-fade-scale,1.125));transform:scale(var(--fa-beat-fade-scale,1.125))}}@-webkit-keyframes fa-flip{50%{-webkit-transform:rotate3d(var(--fa-flip-x,0),var(--fa-flip-y,1),var(--fa-flip-z,0),var(--fa-flip-angle,-180deg));transform:rotate3d(var(--fa-flip-x,0),var(--fa-flip-y,1),var(--fa-flip-z,0),var(--fa-flip-angle,-180deg))}}@keyframes fa-flip{50%{-webkit-transform:rotate3d(var(--fa-flip-x,0),var(--fa-flip-y,1),var(--fa-flip-z,0),var(--fa-flip-angle,-180deg));transform:rotate3d(var(--fa-flip-x,0),var(--fa-flip-y,1),var(--fa-flip-z,0),var(--fa-flip-angle,-180deg))}}@-webkit-keyframes fa-shake{0%{-webkit-transform:rotate(-15deg);transform:rotate(-15deg)}4%{-webkit-transform:rotate(15deg);transform:rotate(15deg)}24%,8%{-webkit-transform:rotate(-18deg);transform:rotate(-18deg)}12%,28%{-webkit-transform:rotate(18deg);transform:rotate(18deg)}16%{-webkit-transform:rotate(-22deg);transform:rotate(-22deg)}20%{-webkit-transform:rotate(22deg);transform:rotate(22deg)}32%{-webkit-transform:rotate(-12deg);transform:rotate(-12deg)}36%{-webkit-transform:rotate(12deg);transform:rotate(12deg)}100%,40%{-webkit-transform:rotate(0);transform:rotate(0)}}@keyframes fa-shake{0%{-webkit-transform:rotate(-15deg);transform:rotate(-15deg)}4%{-webkit-transform:rotate(15deg);transform:rotate(15deg)}24%,8%{-webkit-transform:rotate(-18deg);transform:rotate(-18deg)}12%,28%{-webkit-transform:rotate(18deg);transform:rotate(18deg)}16%{-webkit-transform:rotate(-22deg);transform:rotate(-22deg)}20%{-webkit-transform:rotate(22deg);transform:rotate(22deg)}32%{-webkit-transform:rotate(-12deg);transform:rotate(-12deg)}36%{-webkit-transform:rotate(12deg);transform:rotate(12deg)}100%,40%{-webkit-transform:rotate(0);transform:rotate(0)}}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.fa-rotate-90{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{-webkit-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{-webkit-transform:scale(-1,1);transform:scale(-1,1)}.fa-flip-vertical{-webkit-transform:scale(1,-1);transform:scale(1,-1)}.fa-flip-both,.fa-flip-horizontal.fa-flip-vertical{-webkit-transform:scale(-1,-1);transform:scale(-1,-1)}.fa-rotate-by{-webkit-transform:rotate(var(--fa-rotate-angle,none));transform:rotate(var(--fa-rotate-angle,none))}.fa-stack{display:inline-block;vertical-align:middle;height:2em;position:relative;width:2.5em}.fa-stack-1x,.fa-stack-2x{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;z-index:var(--fa-stack-z-index,auto)}.svg-inline--fa.fa-stack-1x{height:1em;width:1.25em}.svg-inline--fa.fa-stack-2x{height:2em;width:2.5em}.fa-inverse{color:var(--fa-inverse,#fff)}.fa-sr-only,.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.fa-sr-only-focusable:not(:focus),.sr-only-focusable:not(:focus){position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.svg-inline--fa .fa-primary{fill:var(--fa-primary-color,currentColor);opacity:var(--fa-primary-opacity,1)}.svg-inline--fa .fa-secondary{fill:var(--fa-secondary-color,currentColor);opacity:var(--fa-secondary-opacity,.4)}.svg-inline--fa.fa-swap-opacity .fa-primary{opacity:var(--fa-secondary-opacity,.4)}.svg-inline--fa.fa-swap-opacity .fa-secondary{opacity:var(--fa-primary-opacity,1)}.svg-inline--fa mask .fa-primary,.svg-inline--fa mask .fa-secondary{fill:#000}.fa-duotone.fa-inverse,.fad.fa-inverse{color:var(--fa-inverse,#fff)}</style><link href="/images/favicon/apple-icon-57x57.png" rel="apple-touch-icon" sizes="57x57"><link href="/images/favicon/apple-icon-60x60.png" rel="apple-touch-icon" sizes="60x60"><link href="/images/favicon/apple-icon-72x72.png" rel="apple-touch-icon" sizes="72x72"><link href="/images/favicon/apple-icon-76x76.png" rel="apple-touch-icon" sizes="76x76"><link href="/images/favicon/apple-icon-114x114.png" rel="apple-touch-icon" sizes="114x114"><link href="/images/favicon/apple-icon-120x120.png" rel="apple-touch-icon" sizes="120x120"><link href="/images/favicon/apple-icon-144x144.png" rel="apple-touch-icon" sizes="144x144"><link href="/images/favicon/apple-icon-152x152.png" rel="apple-touch-icon" sizes="152x152"><link href="/images/favicon/apple-icon-180x180.png" rel="apple-touch-icon" sizes="180x180"><link href="/images/favicon/android-icon-192x192.png" rel="icon" sizes="192x192" type="image/png"><link href="/images/favicon/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"><link href="/images/favicon/favicon-96x96.png" rel="icon" sizes="96x96" type="image/png"><link href="/images/favicon/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"><link href="/images/favicon/manifest.json" rel="manifest"><meta content="#ffffff" name="msapplication-TileColor"><meta content="/images/favicon/ms-icon-144x144.png" name="msapplication-TileImage"><meta content="#ffffff" name="theme-color"><link href="/" rel="canonical"><link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Raleway:400,800,900" rel="stylesheet" async><script src="https://www.google-analytics.com/analytics.js" async></script><script src="/static/js/main.ccafa538.js" defer></script><link href="/static/css/main.cdae53d4.css" rel="stylesheet"><link href="http://fonts.googleapis.com" rel="preconnect"><title>Blog Posts | Michael Shliselberg</title><meta content="Fun little posts" name="description" data-rh="true"><script type="text/javascript" async charset="utf8" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script><link href="https://www.google-analytics.com" rel="preconnect"><link href="https://cdnjs.cloudflare.com" rel="preconnect"><link href="http://fonts.gstatic.com" rel="preconnect"><style type="text/css">.MathJax_Hover_Frame{border-radius:.25em;-webkit-border-radius:.25em;-moz-border-radius:.25em;-khtml-border-radius:.25em;box-shadow:0 0 15px #83a;-webkit-box-shadow:0 0 15px #83a;-moz-box-shadow:0 0 15px #83a;-khtml-box-shadow:0 0 15px #83a;border:1px solid #a6d!important;display:inline-block;position:absolute}.MathJax_Menu_Button .MathJax_Hover_Arrow{position:absolute;cursor:pointer;display:inline-block;border:2px solid #aaa;border-radius:4px;-webkit-border-radius:4px;-moz-border-radius:4px;-khtml-border-radius:4px;font-family:'Courier New',Courier;font-size:9px;color:#f0f0f0}.MathJax_Menu_Button .MathJax_Hover_Arrow span{display:block;background-color:#aaa;border:1px solid;border-radius:3px;line-height:0;padding:4px}.MathJax_Hover_Arrow:hover{color:#fff!important;border:2px solid #ccc!important}.MathJax_Hover_Arrow:hover span{background-color:#ccc!important}</style><style type="text/css">#MathJax_About{position:fixed;left:50%;width:auto;text-align:center;border:3px outset;padding:1em 2em;background-color:#ddd;color:#000;cursor:default;font-family:message-box;font-size:120%;font-style:normal;text-indent:0;text-transform:none;line-height:normal;letter-spacing:normal;word-spacing:normal;word-wrap:normal;white-space:nowrap;float:none;z-index:201;border-radius:15px;-webkit-border-radius:15px;-moz-border-radius:15px;-khtml-border-radius:15px;box-shadow:0 10px 20px grey;-webkit-box-shadow:0 10px 20px grey;-moz-box-shadow:0 10px 20px grey;-khtml-box-shadow:0 10px 20px grey}#MathJax_About.MathJax_MousePost{outline:0}.MathJax_Menu{position:absolute;background-color:#fff;color:#000;width:auto;padding:5px 0;border:1px solid #ccc;margin:0;cursor:default;font:menu;text-align:left;text-indent:0;text-transform:none;line-height:normal;letter-spacing:normal;word-spacing:normal;word-wrap:normal;white-space:nowrap;float:none;z-index:201;border-radius:5px;-webkit-border-radius:5px;-moz-border-radius:5px;-khtml-border-radius:5px;box-shadow:0 10px 20px grey;-webkit-box-shadow:0 10px 20px grey;-moz-box-shadow:0 10px 20px grey;-khtml-box-shadow:0 10px 20px grey}.MathJax_MenuItem{padding:1px 2em;background:0 0}.MathJax_MenuArrow{position:absolute;right:.5em;padding-top:.25em;color:#666;font-size:.75em}.MathJax_MenuActive .MathJax_MenuArrow{color:#fff}.MathJax_MenuArrow.RTL{left:.5em;right:auto}.MathJax_MenuCheck{position:absolute;left:.7em}.MathJax_MenuCheck.RTL{right:.7em;left:auto}.MathJax_MenuRadioCheck{position:absolute;left:.7em}.MathJax_MenuRadioCheck.RTL{right:.7em;left:auto}.MathJax_MenuLabel{padding:1px 2em 3px 1.33em;font-style:italic}.MathJax_MenuRule{border-top:1px solid #ddd;margin:4px 3px}.MathJax_MenuDisabled{color:GrayText}.MathJax_MenuActive{background-color:#606872;color:#fff}.MathJax_MenuDisabled:focus,.MathJax_MenuLabel:focus{background-color:#e8e8e8}.MathJax_ContextMenu:focus{outline:0}.MathJax_ContextMenu .MathJax_MenuItem:focus{outline:0}#MathJax_AboutClose{top:.2em;right:.2em}.MathJax_Menu .MathJax_MenuClose{top:-10px;left:-10px}.MathJax_MenuClose{position:absolute;cursor:pointer;display:inline-block;border:2px solid #aaa;border-radius:18px;-webkit-border-radius:18px;-moz-border-radius:18px;-khtml-border-radius:18px;font-family:'Courier New',Courier;font-size:24px;color:#f0f0f0}.MathJax_MenuClose span{display:block;background-color:#aaa;border:1.5px solid;border-radius:18px;-webkit-border-radius:18px;-moz-border-radius:18px;-khtml-border-radius:18px;line-height:0;padding:8px 0 6px}.MathJax_MenuClose:hover{color:#fff!important;border:2px solid #ccc!important}.MathJax_MenuClose:hover span{background-color:#ccc!important}.MathJax_MenuClose:hover:focus{outline:0}</style><style type="text/css">.MathJax_Preview .MJXf-math{color:inherit!important}</style><style type="text/css">.MJX_Assistive_MathML{position:absolute!important;top:0;left:0;clip:rect(1px,1px,1px,1px);padding:1px 0 0 0!important;border:0!important;height:1px!important;width:1px!important;overflow:hidden!important;display:block!important;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.MJX_Assistive_MathML.MJX_Assistive_MathML_Block{width:100%!important}</style><style type="text/css">#MathJax_Zoom{position:absolute;background-color:#f0f0f0;overflow:auto;display:block;z-index:301;padding:.5em;border:1px solid #000;margin:0;font-weight:400;font-style:normal;text-align:left;text-indent:0;text-transform:none;line-height:normal;letter-spacing:normal;word-spacing:normal;word-wrap:normal;white-space:nowrap;float:none;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;box-shadow:5px 5px 15px #aaa;-webkit-box-shadow:5px 5px 15px #aaa;-moz-box-shadow:5px 5px 15px #aaa;-khtml-box-shadow:5px 5px 15px #aaa}#MathJax_ZoomOverlay{position:absolute;left:0;top:0;z-index:300;display:inline-block;width:100%;height:100%;border:0;padding:0;margin:0;background-color:#fff;opacity:0}#MathJax_ZoomFrame{position:relative;display:inline-block;height:0;width:0}#MathJax_ZoomEventTrap{position:absolute;left:0;top:0;z-index:302;display:inline-block;border:0;padding:0;margin:0;background-color:#fff;opacity:0}</style><style type="text/css">.MathJax_Preview{color:#888}#MathJax_Message{position:fixed;left:1px;bottom:2px;background-color:#e6e6e6;border:1px solid #959595;margin:0;padding:2px 8px;z-index:102;color:#000;font-size:80%;width:auto;white-space:nowrap}#MathJax_MSIE_Frame{position:absolute;top:0;left:0;width:0;z-index:101;border:0;margin:0;padding:0}.MathJax_Error{color:#c00;font-style:italic}</style><style type="text/css">.MJXp-script{font-size:.8em}.MJXp-right{-webkit-transform-origin:right;-moz-transform-origin:right;-ms-transform-origin:right;-o-transform-origin:right;transform-origin:right}.MJXp-bold{font-weight:700}.MJXp-italic{font-style:italic}.MJXp-scr{font-family:MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}.MJXp-frak{font-family:MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}.MJXp-sf{font-family:MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}.MJXp-cal{font-family:MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}.MJXp-mono{font-family:MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}.MJXp-largeop{font-size:150%}.MJXp-largeop.MJXp-int{vertical-align:-.2em}.MJXp-math{display:inline-block;line-height:1.2;text-indent:0;font-family:'Times New Roman',Times,STIXGeneral,serif;white-space:nowrap;border-collapse:collapse}.MJXp-display{display:block;text-align:center;margin:1em 0}.MJXp-math span{display:inline-block}.MJXp-box{display:block!important;text-align:center}.MJXp-box:after{content:" "}.MJXp-rule{display:block!important;margin-top:.1em}.MJXp-char{display:block!important}.MJXp-mo{margin:0 .15em}.MJXp-mfrac{margin:0 .125em;vertical-align:.25em}.MJXp-denom{display:inline-table!important;width:100%}.MJXp-denom>*{display:table-row!important}.MJXp-surd{vertical-align:top}.MJXp-surd>*{display:block!important}.MJXp-script-box>*{display:table!important;height:50%}.MJXp-script-box>*>*{display:table-cell!important;vertical-align:top}.MJXp-script-box>:last-child>*{vertical-align:bottom}.MJXp-script-box>*>*>*{display:block!important}.MJXp-mphantom{visibility:hidden}.MJXp-munderover{display:inline-table!important}.MJXp-over{display:inline-block!important;text-align:center}.MJXp-over>*{display:block!important}.MJXp-munderover>*{display:table-row!important}.MJXp-mtable{vertical-align:.25em;margin:0 .125em}.MJXp-mtable>*{display:inline-table!important;vertical-align:middle}.MJXp-mtr{display:table-row!important}.MJXp-mtd{display:table-cell!important;text-align:center;padding:.5em 0 0 .5em}.MJXp-mtr>.MJXp-mtd:first-child{padding-left:0}.MJXp-mtr:first-child>.MJXp-mtd{padding-top:0}.MJXp-mlabeledtr{display:table-row!important}.MJXp-mlabeledtr>.MJXp-mtd:first-child{padding-left:0}.MJXp-mlabeledtr:first-child>.MJXp-mtd{padding-top:0}.MJXp-merror{background-color:#ff8;color:#c00;border:1px solid #c00;padding:1px 3px;font-style:normal;font-size:90%}.MJXp-scale0{-webkit-transform:scaleX(0);-moz-transform:scaleX(0);-ms-transform:scaleX(0);-o-transform:scaleX(0);transform:scaleX(0)}.MJXp-scale1{-webkit-transform:scaleX(.1);-moz-transform:scaleX(.1);-ms-transform:scaleX(.1);-o-transform:scaleX(.1);transform:scaleX(.1)}.MJXp-scale2{-webkit-transform:scaleX(.2);-moz-transform:scaleX(.2);-ms-transform:scaleX(.2);-o-transform:scaleX(.2);transform:scaleX(.2)}.MJXp-scale3{-webkit-transform:scaleX(.3);-moz-transform:scaleX(.3);-ms-transform:scaleX(.3);-o-transform:scaleX(.3);transform:scaleX(.3)}.MJXp-scale4{-webkit-transform:scaleX(.4);-moz-transform:scaleX(.4);-ms-transform:scaleX(.4);-o-transform:scaleX(.4);transform:scaleX(.4)}.MJXp-scale5{-webkit-transform:scaleX(.5);-moz-transform:scaleX(.5);-ms-transform:scaleX(.5);-o-transform:scaleX(.5);transform:scaleX(.5)}.MJXp-scale6{-webkit-transform:scaleX(.6);-moz-transform:scaleX(.6);-ms-transform:scaleX(.6);-o-transform:scaleX(.6);transform:scaleX(.6)}.MJXp-scale7{-webkit-transform:scaleX(.7);-moz-transform:scaleX(.7);-ms-transform:scaleX(.7);-o-transform:scaleX(.7);transform:scaleX(.7)}.MJXp-scale8{-webkit-transform:scaleX(.8);-moz-transform:scaleX(.8);-ms-transform:scaleX(.8);-o-transform:scaleX(.8);transform:scaleX(.8)}.MJXp-scale9{-webkit-transform:scaleX(.9);-moz-transform:scaleX(.9);-ms-transform:scaleX(.9);-o-transform:scaleX(.9);transform:scaleX(.9)}.MathJax_PHTML .noError{font-size:90%;text-align:left;color:#000;padding:1px 3px;border:1px solid}</style><style type="text/css">.mjx-chtml{display:inline-block;line-height:0;text-indent:0;text-align:left;text-transform:none;font-style:normal;font-weight:400;font-size:100%;font-size-adjust:none;letter-spacing:normal;word-wrap:normal;word-spacing:normal;white-space:nowrap;float:none;direction:ltr;max-width:none;max-height:none;min-width:0;min-height:0;border:0;margin:0;padding:1px 0}.MJXc-display{display:block;text-align:center;margin:1em 0;padding:0}.mjx-chtml[tabindex]:focus,body :focus .mjx-chtml[tabindex]{display:inline-table}.mjx-full-width{text-align:center;display:table-cell!important;width:10000em}.mjx-math{display:inline-block;border-collapse:separate;border-spacing:0}.mjx-math *{display:inline-block;-webkit-box-sizing:content-box!important;-moz-box-sizing:content-box!important;box-sizing:content-box!important;text-align:left}.mjx-numerator{display:block;text-align:center}.mjx-denominator{display:block;text-align:center}.MJXc-stacked{height:0;position:relative}.MJXc-stacked>*{position:absolute}.MJXc-bevelled>*{display:inline-block}.mjx-stack{display:inline-block}.mjx-op{display:block}.mjx-under{display:table-cell}.mjx-over{display:block}.mjx-over>*{padding-left:0!important;padding-right:0!important}.mjx-under>*{padding-left:0!important;padding-right:0!important}.mjx-stack>.mjx-sup{display:block}.mjx-stack>.mjx-sub{display:block}.mjx-prestack>.mjx-presup{display:block}.mjx-prestack>.mjx-presub{display:block}.mjx-delim-h>.mjx-char{display:inline-block}.mjx-surd{vertical-align:top}.mjx-mphantom *{visibility:hidden}.mjx-merror{background-color:#ff8;color:#c00;border:1px solid #c00;padding:2px 3px;font-style:normal;font-size:90%}.mjx-annotation-xml{line-height:normal}.mjx-menclose>svg{fill:none;stroke:currentColor}.mjx-mtr{display:table-row}.mjx-mlabeledtr{display:table-row}.mjx-mtd{display:table-cell;text-align:center}.mjx-label{display:table-row}.mjx-box{display:inline-block}.mjx-block{display:block}.mjx-span{display:inline}.mjx-char{display:block;white-space:pre}.mjx-itable{display:inline-table;width:auto}.mjx-row{display:table-row}.mjx-cell{display:table-cell}.mjx-table{display:table;width:100%}.mjx-line{display:block;height:0}.mjx-strut{width:0;padding-top:1em}.mjx-vsize{width:0}.MJXc-space1{margin-left:.167em}.MJXc-space2{margin-left:.222em}.MJXc-space3{margin-left:.278em}.mjx-chartest{display:block;visibility:hidden;position:absolute;top:0;line-height:normal;font-size:500%}.mjx-chartest .mjx-char{display:inline}.mjx-chartest .mjx-box{padding-top:1000px}.MJXc-processing{visibility:hidden;position:fixed;width:0;height:0;overflow:hidden}.MJXc-processed{display:none}.mjx-test{display:block;font-style:normal;font-weight:400;font-size:100%;font-size-adjust:none;text-indent:0;text-transform:none;letter-spacing:normal;word-spacing:normal;overflow:hidden;height:1px}.mjx-ex-box-test{position:absolute;overflow:hidden;width:1px;height:60ex}.mjx-line-box-test{display:table!important}.mjx-line-box-test span{display:table-cell!important;width:10000em!important;min-width:0;max-width:none;padding:0;border:0;margin:0}#MathJax_CHTML_Tooltip{background-color:InfoBackground;color:InfoText;border:1px solid #000;box-shadow:2px 2px 5px #aaa;-webkit-box-shadow:2px 2px 5px #aaa;-moz-box-shadow:2px 2px 5px #aaa;-khtml-box-shadow:2px 2px 5px #aaa;padding:3px 4px;z-index:401;position:absolute;left:0;top:0;width:auto;height:auto;display:none}.mjx-chtml .mjx-noError{line-height:1.2;font-size:90%;text-align:left;color:#000;padding:1px 3px;border:1px solid}.MJXc-TeX-unknown-R{font-family:STIXGeneral,'Cambria Math','Arial Unicode MS',serif;font-style:normal;font-weight:400}.MJXc-TeX-unknown-I{font-family:STIXGeneral,'Cambria Math','Arial Unicode MS',serif;font-style:italic;font-weight:400}.MJXc-TeX-unknown-B{font-family:STIXGeneral,'Cambria Math','Arial Unicode MS',serif;font-style:normal;font-weight:700}.MJXc-TeX-unknown-BI{font-family:STIXGeneral,'Cambria Math','Arial Unicode MS',serif;font-style:italic;font-weight:700}.MJXc-TeX-ams-R{font-family:MJXc-TeX-ams-R,MJXc-TeX-ams-Rw}.MJXc-TeX-cal-B{font-family:MJXc-TeX-cal-B,MJXc-TeX-cal-Bx,MJXc-TeX-cal-Bw}.MJXc-TeX-frak-R{font-family:MJXc-TeX-frak-R,MJXc-TeX-frak-Rw}.MJXc-TeX-frak-B{font-family:MJXc-TeX-frak-B,MJXc-TeX-frak-Bx,MJXc-TeX-frak-Bw}.MJXc-TeX-math-BI{font-family:MJXc-TeX-math-BI,MJXc-TeX-math-BIx,MJXc-TeX-math-BIw}.MJXc-TeX-sans-R{font-family:MJXc-TeX-sans-R,MJXc-TeX-sans-Rw}.MJXc-TeX-sans-B{font-family:MJXc-TeX-sans-B,MJXc-TeX-sans-Bx,MJXc-TeX-sans-Bw}.MJXc-TeX-sans-I{font-family:MJXc-TeX-sans-I,MJXc-TeX-sans-Ix,MJXc-TeX-sans-Iw}.MJXc-TeX-script-R{font-family:MJXc-TeX-script-R,MJXc-TeX-script-Rw}.MJXc-TeX-type-R{font-family:MJXc-TeX-type-R,MJXc-TeX-type-Rw}.MJXc-TeX-cal-R{font-family:MJXc-TeX-cal-R,MJXc-TeX-cal-Rw}.MJXc-TeX-main-B{font-family:MJXc-TeX-main-B,MJXc-TeX-main-Bx,MJXc-TeX-main-Bw}.MJXc-TeX-main-I{font-family:MJXc-TeX-main-I,MJXc-TeX-main-Ix,MJXc-TeX-main-Iw}.MJXc-TeX-main-R{font-family:MJXc-TeX-main-R,MJXc-TeX-main-Rw}.MJXc-TeX-math-I{font-family:MJXc-TeX-math-I,MJXc-TeX-math-Ix,MJXc-TeX-math-Iw}.MJXc-TeX-size1-R{font-family:MJXc-TeX-size1-R,MJXc-TeX-size1-Rw}.MJXc-TeX-size2-R{font-family:MJXc-TeX-size2-R,MJXc-TeX-size2-Rw}.MJXc-TeX-size3-R{font-family:MJXc-TeX-size3-R,MJXc-TeX-size3-Rw}.MJXc-TeX-size4-R{font-family:MJXc-TeX-size4-R,MJXc-TeX-size4-Rw}.MJXc-TeX-vec-R{font-family:MJXc-TeX-vec-R,MJXc-TeX-vec-Rw}.MJXc-TeX-vec-B{font-family:MJXc-TeX-vec-B,MJXc-TeX-vec-Bx,MJXc-TeX-vec-Bw}@font-face{font-family:MJXc-TeX-ams-R;src:local('MathJax_AMS'),local('MathJax_AMS-Regular')}@font-face{font-family:MJXc-TeX-ams-Rw;src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/eot/MathJax_AMS-Regular.eot);src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/woff/MathJax_AMS-Regular.woff) format('woff'),url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/otf/MathJax_AMS-Regular.otf) format('opentype')}@font-face{font-family:MJXc-TeX-cal-B;src:local('MathJax_Caligraphic Bold'),local('MathJax_Caligraphic-Bold')}@font-face{font-family:MJXc-TeX-cal-Bx;src:local('MathJax_Caligraphic');font-weight:700}@font-face{font-family:MJXc-TeX-cal-Bw;src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/eot/MathJax_Caligraphic-Bold.eot);src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/woff/MathJax_Caligraphic-Bold.woff) format('woff'),url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Bold.otf) format('opentype')}@font-face{font-family:MJXc-TeX-frak-R;src:local('MathJax_Fraktur'),local('MathJax_Fraktur-Regular')}@font-face{font-family:MJXc-TeX-frak-Rw;src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/eot/MathJax_Fraktur-Regular.eot);src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/woff/MathJax_Fraktur-Regular.woff) format('woff'),url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/otf/MathJax_Fraktur-Regular.otf) format('opentype')}@font-face{font-family:MJXc-TeX-frak-B;src:local('MathJax_Fraktur Bold'),local('MathJax_Fraktur-Bold')}@font-face{font-family:MJXc-TeX-frak-Bx;src:local('MathJax_Fraktur');font-weight:700}@font-face{font-family:MJXc-TeX-frak-Bw;src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/eot/MathJax_Fraktur-Bold.eot);src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/woff/MathJax_Fraktur-Bold.woff) format('woff'),url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/otf/MathJax_Fraktur-Bold.otf) format('opentype')}@font-face{font-family:MJXc-TeX-math-BI;src:local('MathJax_Math BoldItalic'),local('MathJax_Math-BoldItalic')}@font-face{font-family:MJXc-TeX-math-BIx;src:local('MathJax_Math');font-weight:700;font-style:italic}@font-face{font-family:MJXc-TeX-math-BIw;src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/eot/MathJax_Math-BoldItalic.eot);src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/woff/MathJax_Math-BoldItalic.woff) format('woff'),url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/otf/MathJax_Math-BoldItalic.otf) format('opentype')}@font-face{font-family:MJXc-TeX-sans-R;src:local('MathJax_SansSerif'),local('MathJax_SansSerif-Regular')}@font-face{font-family:MJXc-TeX-sans-Rw;src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/eot/MathJax_SansSerif-Regular.eot);src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/woff/MathJax_SansSerif-Regular.woff) format('woff'),url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/otf/MathJax_SansSerif-Regular.otf) format('opentype')}@font-face{font-family:MJXc-TeX-sans-B;src:local('MathJax_SansSerif Bold'),local('MathJax_SansSerif-Bold')}@font-face{font-family:MJXc-TeX-sans-Bx;src:local('MathJax_SansSerif');font-weight:700}@font-face{font-family:MJXc-TeX-sans-Bw;src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/eot/MathJax_SansSerif-Bold.eot);src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/woff/MathJax_SansSerif-Bold.woff) format('woff'),url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/otf/MathJax_SansSerif-Bold.otf) format('opentype')}@font-face{font-family:MJXc-TeX-sans-I;src:local('MathJax_SansSerif Italic'),local('MathJax_SansSerif-Italic')}@font-face{font-family:MJXc-TeX-sans-Ix;src:local('MathJax_SansSerif');font-style:italic}@font-face{font-family:MJXc-TeX-sans-Iw;src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/eot/MathJax_SansSerif-Italic.eot);src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/woff/MathJax_SansSerif-Italic.woff) format('woff'),url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/otf/MathJax_SansSerif-Italic.otf) format('opentype')}@font-face{font-family:MJXc-TeX-script-R;src:local('MathJax_Script'),local('MathJax_Script-Regular')}@font-face{font-family:MJXc-TeX-script-Rw;src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/eot/MathJax_Script-Regular.eot);src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/woff/MathJax_Script-Regular.woff) format('woff'),url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/otf/MathJax_Script-Regular.otf) format('opentype')}@font-face{font-family:MJXc-TeX-type-R;src:local('MathJax_Typewriter'),local('MathJax_Typewriter-Regular')}@font-face{font-family:MJXc-TeX-type-Rw;src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/eot/MathJax_Typewriter-Regular.eot);src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/woff/MathJax_Typewriter-Regular.woff) format('woff'),url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/otf/MathJax_Typewriter-Regular.otf) format('opentype')}@font-face{font-family:MJXc-TeX-cal-R;src:local('MathJax_Caligraphic'),local('MathJax_Caligraphic-Regular')}@font-face{font-family:MJXc-TeX-cal-Rw;src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/eot/MathJax_Caligraphic-Regular.eot);src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/woff/MathJax_Caligraphic-Regular.woff) format('woff'),url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Regular.otf) format('opentype')}@font-face{font-family:MJXc-TeX-main-B;src:local('MathJax_Main Bold'),local('MathJax_Main-Bold')}@font-face{font-family:MJXc-TeX-main-Bx;src:local('MathJax_Main');font-weight:700}@font-face{font-family:MJXc-TeX-main-Bw;src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/eot/MathJax_Main-Bold.eot);src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/woff/MathJax_Main-Bold.woff) format('woff'),url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/otf/MathJax_Main-Bold.otf) format('opentype')}@font-face{font-family:MJXc-TeX-main-I;src:local('MathJax_Main Italic'),local('MathJax_Main-Italic')}@font-face{font-family:MJXc-TeX-main-Ix;src:local('MathJax_Main');font-style:italic}@font-face{font-family:MJXc-TeX-main-Iw;src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/eot/MathJax_Main-Italic.eot);src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/woff/MathJax_Main-Italic.woff) format('woff'),url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/otf/MathJax_Main-Italic.otf) format('opentype')}@font-face{font-family:MJXc-TeX-main-R;src:local('MathJax_Main'),local('MathJax_Main-Regular')}@font-face{font-family:MJXc-TeX-main-Rw;src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/eot/MathJax_Main-Regular.eot);src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/woff/MathJax_Main-Regular.woff) format('woff'),url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/otf/MathJax_Main-Regular.otf) format('opentype')}@font-face{font-family:MJXc-TeX-math-I;src:local('MathJax_Math Italic'),local('MathJax_Math-Italic')}@font-face{font-family:MJXc-TeX-math-Ix;src:local('MathJax_Math');font-style:italic}@font-face{font-family:MJXc-TeX-math-Iw;src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/eot/MathJax_Math-Italic.eot);src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/woff/MathJax_Math-Italic.woff) format('woff'),url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/otf/MathJax_Math-Italic.otf) format('opentype')}@font-face{font-family:MJXc-TeX-size1-R;src:local('MathJax_Size1'),local('MathJax_Size1-Regular')}@font-face{font-family:MJXc-TeX-size1-Rw;src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/eot/MathJax_Size1-Regular.eot);src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/woff/MathJax_Size1-Regular.woff) format('woff'),url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/otf/MathJax_Size1-Regular.otf) format('opentype')}@font-face{font-family:MJXc-TeX-size2-R;src:local('MathJax_Size2'),local('MathJax_Size2-Regular')}@font-face{font-family:MJXc-TeX-size2-Rw;src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/eot/MathJax_Size2-Regular.eot);src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/woff/MathJax_Size2-Regular.woff) format('woff'),url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/otf/MathJax_Size2-Regular.otf) format('opentype')}@font-face{font-family:MJXc-TeX-size3-R;src:local('MathJax_Size3'),local('MathJax_Size3-Regular')}@font-face{font-family:MJXc-TeX-size3-Rw;src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/eot/MathJax_Size3-Regular.eot);src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/woff/MathJax_Size3-Regular.woff) format('woff'),url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/otf/MathJax_Size3-Regular.otf) format('opentype')}@font-face{font-family:MJXc-TeX-size4-R;src:local('MathJax_Size4'),local('MathJax_Size4-Regular')}@font-face{font-family:MJXc-TeX-size4-Rw;src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/eot/MathJax_Size4-Regular.eot);src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/woff/MathJax_Size4-Regular.woff) format('woff'),url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/otf/MathJax_Size4-Regular.otf) format('opentype')}@font-face{font-family:MJXc-TeX-vec-R;src:local('MathJax_Vector'),local('MathJax_Vector-Regular')}@font-face{font-family:MJXc-TeX-vec-Rw;src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/eot/MathJax_Vector-Regular.eot);src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/woff/MathJax_Vector-Regular.woff) format('woff'),url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/otf/MathJax_Vector-Regular.otf) format('opentype')}@font-face{font-family:MJXc-TeX-vec-B;src:local('MathJax_Vector Bold'),local('MathJax_Vector-Bold')}@font-face{font-family:MJXc-TeX-vec-Bx;src:local('MathJax_Vector');font-weight:700}@font-face{font-family:MJXc-TeX-vec-Bw;src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/eot/MathJax_Vector-Bold.eot);src:url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/woff/MathJax_Vector-Bold.woff) format('woff'),url(https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/fonts/HTML-CSS/TeX/otf/MathJax_Vector-Bold.otf) format('opentype')}</style></head><body><div style="display:none" id="MathJax_Message"></div><div id="root"><div id="wrapper"><header id="header"><h1 class="index-link"><a href="/">Michael E. Shliselberg</a></h1><nav class="links"><ul><li><a href="/about">About</a></li><li><a href="/resume">Experience</a></li><li><a href="/projects">Blog Posts / Side Projects</a></li><li><a href="/contact">Contact</a></li></ul></nav><div class="hamburger-container"><nav class="main" id="hambuger-nav"><ul><li class="menu open-menu"><div class="menu-hover">☰</div></li></ul></nav><div><div class="bm-overlay" style="position:fixed;z-index:1000;width:100%;height:100%;background:rgba(0,0,0,.3);opacity:0;transform:translate3d(100%,0,0);transition:opacity .3s ease 0s,transform 0s ease .3s"></div><div><div class="bm-burger-button" style="z-index:1000"><button id="react-burger-menu-btn" style="position:absolute;left:0;top:0;z-index:1;width:100%;height:100%;margin:0;padding:0;border:none;font-size:0;background:0 0;cursor:pointer" type="button">Open Menu</button><span><span class="bm-burger-bars" style="position:absolute;height:20%;left:0;right:0;top:0;opacity:1"></span><span class="bm-burger-bars" style="position:absolute;height:20%;left:0;right:0;top:40%;opacity:1"></span><span class="bm-burger-bars" style="position:absolute;height:20%;left:0;right:0;top:80%;opacity:1"></span></span></div></div><div class="bm-menu-wrap" style="position:fixed;right:0;z-index:1100;width:300px;height:100%;transform:translate3d(100%,0,0);transition:all .5s ease 0s" aria-hidden="true" hidden id=""><div class="bm-menu" style="height:100%;box-sizing:border-box;overflow:auto"><nav class="bm-item-list" style="height:100%"><ul class="bm-item hamburger-ul" style="display:block" tabindex="-1"><li><a href="/"><h3 class="index-li">Michael E. Shliselberg</h3></a></li><li><a href="/about"><h3>About</h3></a></li><li><a href="/resume"><h3>Experience</h3></a></li><li><a href="/projects"><h3>Blog Posts / Side Projects</h3></a></li><li><a href="/contact"><h3>Contact</h3></a></li></ul></nav></div><div><div class="bm-cross-button" style="position:absolute;width:24px;height:24px;right:8px;top:8px"><button id="react-burger-cross-btn" style="position:absolute;left:0;top:0;z-index:1;width:100%;height:100%;margin:0;padding:0;border:none;font-size:0;background:0 0;cursor:pointer" type="button" tabindex="-1">Close Menu</button><span style="position:absolute;top:6px;right:14px"><span class="bm-cross" style="position:absolute;width:3px;height:14px;transform:rotate(45deg)"></span><span class="bm-cross" style="position:absolute;width:3px;height:14px;transform:rotate(-45deg)"></span></span></div></div></div></div></div></header><div id="main"><article class="post markdown" id="about"><h1>Focal Gradient Loss: Are we looking at focal loss correctly?</h1><p>Retinanet is a near state-of-the-art object detector that using a simple adaptive weighting scheme, helps bridge some of the gap between one and two stage object detectors by dealing with inherent class imbalance from the large background set constructed by the anchoring process. Specifically they use Focal Loss</p><div><span class="MathJax_Preview" style="color:inherit;display:none"></span><span class="mjx-chtml MJXc-display" style="text-align:center"><span class="mjx-chtml MathJax_CHTML" id="MathJax-Element-1-Frame" style="font-size:110%;text-align:center;position:relative" data-mathml='<math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>F</mi><mi>L</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo><mo>&amp;#x221D;</mo><mo>&amp;#x2212;</mo><mo stretchy="false">(</mo><mn>1</mn><mo>&amp;#x2212;</mo><mi>p</mi><msup><mo stretchy="false">)</mo><mi>&amp;#x03B3;</mi></msup><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></math>' role="presentation" tabindex="0"><span class="mjx-math" id="MJXc-Node-1" aria-hidden="true"><span class="mjx-mrow" id="MJXc-Node-2"><span class="mjx-mi" id="MJXc-Node-3"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.457em;padding-bottom:.287em;padding-right:.106em">F</span></span><span class="mjx-mi" id="MJXc-Node-4"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.457em;padding-bottom:.287em">L</span></span><span class="mjx-mo" id="MJXc-Node-5"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.457em;padding-bottom:.571em">(</span></span><span class="mjx-mi" id="MJXc-Node-6"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.457em">p</span></span><span class="mjx-mo" id="MJXc-Node-7"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.457em;padding-bottom:.571em">)</span></span><span class="mjx-mo MJXc-space3" id="MJXc-Node-8"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.173em;padding-bottom:.344em">∝</span></span><span class="mjx-mo MJXc-space3" id="MJXc-Node-9"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.287em;padding-bottom:.401em">−</span></span><span class="mjx-mo" id="MJXc-Node-10"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.457em;padding-bottom:.571em">(</span></span><span class="mjx-mn" id="MJXc-Node-11"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.401em;padding-bottom:.344em">1</span></span><span class="mjx-mo MJXc-space2" id="MJXc-Node-12"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.287em;padding-bottom:.401em">−</span></span><span class="mjx-mi MJXc-space2" id="MJXc-Node-13"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.457em">p</span></span><span class="mjx-msubsup" id="MJXc-Node-14"><span class="mjx-base"><span class="mjx-mo" id="MJXc-Node-15"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.457em;padding-bottom:.571em">)</span></span></span><span class="mjx-sup" style="font-size:70.7%;vertical-align:.584em;padding-left:0;padding-right:.071em"><span class="mjx-mi" id="MJXc-Node-16" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.514em;padding-right:.025em">γ</span></span></span></span><span class="mjx-mi" id="MJXc-Node-17"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.457em;padding-bottom:.287em">l</span></span><span class="mjx-mi" id="MJXc-Node-18"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.287em">o</span></span><span class="mjx-mi" id="MJXc-Node-19"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.457em;padding-right:.003em">g</span></span><span class="mjx-mo" id="MJXc-Node-20"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.457em;padding-bottom:.571em">(</span></span><span class="mjx-mi" id="MJXc-Node-21"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.457em">p</span></span><span class="mjx-mo" id="MJXc-Node-22"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.457em;padding-bottom:.571em">)</span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>F</mi><mi>L</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo><mo>∝</mo><mo>−</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><msup><mo stretchy="false">)</mo><mi>γ</mi></msup><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></math></span></span></span><script type="math/tex;mode=display" id="MathJax-Element-1">FL(p) \propto - (1-p)^\gamma log(p)</script></div><p>The usage of <span><span class="MathJax_Preview" style="color:inherit;display:none"></span><span class="mjx-chtml MathJax_CHTML" id="MathJax-Element-2-Frame" style="font-size:110%;position:relative" data-mathml='<math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mn>1</mn><mo>&amp;#x2212;</mo><mi>p</mi><msup><mo stretchy="false">)</mo><mi>&amp;#x03B3;</mi></msup></math>' role="presentation" tabindex="0"><span class="mjx-math" id="MJXc-Node-23" aria-hidden="true"><span class="mjx-mrow" id="MJXc-Node-24"><span class="mjx-mo" id="MJXc-Node-25"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.457em;padding-bottom:.571em">(</span></span><span class="mjx-mn" id="MJXc-Node-26"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.401em;padding-bottom:.344em">1</span></span><span class="mjx-mo MJXc-space2" id="MJXc-Node-27"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.287em;padding-bottom:.401em">−</span></span><span class="mjx-mi MJXc-space2" id="MJXc-Node-28"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.457em">p</span></span><span class="mjx-msubsup" id="MJXc-Node-29"><span class="mjx-base"><span class="mjx-mo" id="MJXc-Node-30"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.457em;padding-bottom:.571em">)</span></span></span><span class="mjx-sup" style="font-size:70.7%;vertical-align:.513em;padding-left:0;padding-right:.071em"><span class="mjx-mi" id="MJXc-Node-31" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.514em;padding-right:.025em">γ</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><msup><mo stretchy="false">)</mo><mi>γ</mi></msup></math></span></span><script type="math/tex;" id="MathJax-Element-2">(1-p)^\gamma</script></span>down weights the categorical cross entropy loss along with how high <span><span class="MathJax_Preview" style="color:inherit;display:none"></span><span class="mjx-chtml MathJax_CHTML" id="MathJax-Element-3-Frame" style="font-size:110%;position:relative" data-mathml='<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi></math>' role="presentation" tabindex="0"><span class="mjx-math" id="MJXc-Node-32" aria-hidden="true"><span class="mjx-mrow" id="MJXc-Node-33"><span class="mjx-mi" id="MJXc-Node-34"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.457em">p</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi></math></span></span><script type="math/tex;" id="MathJax-Element-3">p</script></span>is. This is parameterized by <span><span class="MathJax_Preview" style="color:inherit;display:none"></span><span class="mjx-chtml MathJax_CHTML" id="MathJax-Element-4-Frame" style="font-size:110%;position:relative" data-mathml='<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>&amp;#x03B3;</mi></math>' role="presentation" tabindex="0"><span class="mjx-math" id="MJXc-Node-35" aria-hidden="true"><span class="mjx-mrow" id="MJXc-Node-36"><span class="mjx-mi" id="MJXc-Node-37"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.514em;padding-right:.025em">γ</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>γ</mi></math></span></span><script type="math/tex;" id="MathJax-Element-4">\gamma</script></span>, where the higher it is, the greater the down weighting is. In their paper they make it clear this choice of adaptive weighting is arbitrary and could be replaced with other schemes.<br><br>The question I pose with this, is does this accomplish their goal? (I asked this a while back in a <a href="https://ai.stackexchange.com/questions/13755/does-retina-nets-focal-loss-accomplish-its-goal">stack exchange question</a>). Given the lack of response in that post, I decided to investigate this myself. I propose another simple adaptive weighting scheme, but I propose applying the approach onto the gradient directly. I do this because most optimizers use a form of gradient descent <span><span class="MathJax_Preview" style="color:inherit;display:none"></span><span class="mjx-chtml MathJax_CHTML" id="MathJax-Element-5-Frame" style="font-size:110%;position:relative" data-mathml='<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>&amp;#x03B8;</mi><mo stretchy="false">&amp;#x2190;</mo><mi>&amp;#x03B8;</mi><mo>&amp;#x2212;</mo><msub><mi mathvariant="normal">&amp;#x2207;</mi><mrow class="MJX-TeXAtom-ORD"><mi>&amp;#x03B8;</mi></mrow></msub><mi>L</mi></math>' role="presentation" tabindex="0"><span class="mjx-math" id="MJXc-Node-38" aria-hidden="true"><span class="mjx-mrow" id="MJXc-Node-39"><span class="mjx-mi" id="MJXc-Node-40"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.457em;padding-bottom:.287em">θ</span></span><span class="mjx-mo MJXc-space3" id="MJXc-Node-41"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.23em;padding-bottom:.344em">←</span></span><span class="mjx-mi MJXc-space3" id="MJXc-Node-42"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.457em;padding-bottom:.287em">θ</span></span><span class="mjx-mo MJXc-space2" id="MJXc-Node-43"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.287em;padding-bottom:.401em">−</span></span><span class="mjx-msubsup MJXc-space2" id="MJXc-Node-44"><span class="mjx-base"><span class="mjx-mi" id="MJXc-Node-45"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.401em;padding-bottom:.401em">∇</span></span></span><span class="mjx-sub" style="font-size:70.7%;vertical-align:-.23em;padding-right:.071em"><span class="mjx-texatom" id="MJXc-Node-46" style=""><span class="mjx-mrow" id="MJXc-Node-47"><span class="mjx-mi" id="MJXc-Node-48"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.457em;padding-bottom:.287em">θ</span></span></span></span></span></span><span class="mjx-mi" id="MJXc-Node-49"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.457em;padding-bottom:.287em">L</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>θ</mi><mo stretchy="false">←</mo><mi>θ</mi><mo>−</mo><msub><mi mathvariant="normal">∇</mi><mrow class="MJX-TeXAtom-ORD"><mi>θ</mi></mrow></msub><mi>L</mi></math></span></span><script type="math/tex;" id="MathJax-Element-5">\theta \leftarrow \theta - \nabla_{\theta}L</script></span>, and so masking the gradient, directly masks how much is learned by each element. I call this set of losses, <em>focal gradient loss</em></p><div><span class="MathJax_Preview" style="color:inherit;display:none"></span><span class="mjx-chtml MJXc-display" style="text-align:center"><span class="mjx-chtml MathJax_CHTML" id="MathJax-Element-6-Frame" style="font-size:110%;text-align:center;position:relative" data-mathml='<math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>F</mi><mi>G</mi><mi>L</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo><mo>&amp;#x221D;</mo><mo>&amp;#x2212;</mo><mi>S</mi><mi>t</mi><mi>o</mi><mi>p</mi><mi>G</mi><mi>r</mi><mi>a</mi><mi>d</mi><mi>i</mi><mi>e</mi><mi>n</mi><mi>t</mi><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mn>1</mn><mo>&amp;#x2212;</mo><mi>p</mi><msup><mo stretchy="false">)</mo><mi>&amp;#x03B3;</mi></msup><mo stretchy="false">)</mo><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></math>' role="presentation" tabindex="0"><span class="mjx-math" id="MJXc-Node-50" aria-hidden="true"><span class="mjx-mrow" id="MJXc-Node-51"><span class="mjx-mi" id="MJXc-Node-52"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.457em;padding-bottom:.287em;padding-right:.106em">F</span></span><span class="mjx-mi" id="MJXc-Node-53"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.457em;padding-bottom:.287em">G</span></span><span class="mjx-mi" id="MJXc-Node-54"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.457em;padding-bottom:.287em">L</span></span><span class="mjx-mo" id="MJXc-Node-55"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.457em;padding-bottom:.571em">(</span></span><span class="mjx-mi" id="MJXc-Node-56"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.457em">p</span></span><span class="mjx-mo" id="MJXc-Node-57"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.457em;padding-bottom:.571em">)</span></span><span class="mjx-mo MJXc-space3" id="MJXc-Node-58"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.173em;padding-bottom:.344em">∝</span></span><span class="mjx-mo MJXc-space3" id="MJXc-Node-59"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.287em;padding-bottom:.401em">−</span></span><span class="mjx-mi" id="MJXc-Node-60"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.457em;padding-bottom:.287em;padding-right:.032em">S</span></span><span class="mjx-mi" id="MJXc-Node-61"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.401em;padding-bottom:.287em">t</span></span><span class="mjx-mi" id="MJXc-Node-62"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.287em">o</span></span><span class="mjx-mi" id="MJXc-Node-63"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.457em">p</span></span><span class="mjx-mi" id="MJXc-Node-64"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.457em;padding-bottom:.287em">G</span></span><span class="mjx-mi" id="MJXc-Node-65"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.287em">r</span></span><span class="mjx-mi" id="MJXc-Node-66"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.287em">a</span></span><span class="mjx-mi" id="MJXc-Node-67"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.457em;padding-bottom:.287em;padding-right:.003em">d</span></span><span class="mjx-mi" id="MJXc-Node-68"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.457em;padding-bottom:.287em">i</span></span><span class="mjx-mi" id="MJXc-Node-69"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.287em">e</span></span><span class="mjx-mi" id="MJXc-Node-70"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.287em">n</span></span><span class="mjx-mi" id="MJXc-Node-71"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.401em;padding-bottom:.287em">t</span></span><span class="mjx-mo" id="MJXc-Node-72"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.457em;padding-bottom:.571em">(</span></span><span class="mjx-mo" id="MJXc-Node-73"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.457em;padding-bottom:.571em">(</span></span><span class="mjx-mn" id="MJXc-Node-74"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.401em;padding-bottom:.344em">1</span></span><span class="mjx-mo MJXc-space2" id="MJXc-Node-75"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.287em;padding-bottom:.401em">−</span></span><span class="mjx-mi MJXc-space2" id="MJXc-Node-76"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.457em">p</span></span><span class="mjx-msubsup" id="MJXc-Node-77"><span class="mjx-base"><span class="mjx-mo" id="MJXc-Node-78"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.457em;padding-bottom:.571em">)</span></span></span><span class="mjx-sup" style="font-size:70.7%;vertical-align:.584em;padding-left:0;padding-right:.071em"><span class="mjx-mi" id="MJXc-Node-79" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.514em;padding-right:.025em">γ</span></span></span></span><span class="mjx-mo" id="MJXc-Node-80"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.457em;padding-bottom:.571em">)</span></span><span class="mjx-mtext" id="MJXc-Node-81"><span class="mjx-char MJXc-TeX-main-R" style="margin-top:-.281em;padding-bottom:.344em"> </span></span><span class="mjx-mi" id="MJXc-Node-82"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.457em;padding-bottom:.287em">l</span></span><span class="mjx-mi" id="MJXc-Node-83"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.287em">o</span></span><span class="mjx-mi" id="MJXc-Node-84"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.457em;padding-right:.003em">g</span></span><span class="mjx-mo" id="MJXc-Node-85"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.457em;padding-bottom:.571em">(</span></span><span class="mjx-mi" id="MJXc-Node-86"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.457em">p</span></span><span class="mjx-mo" id="MJXc-Node-87"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.457em;padding-bottom:.571em">)</span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>F</mi><mi>G</mi><mi>L</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo><mo>∝</mo><mo>−</mo><mi>S</mi><mi>t</mi><mi>o</mi><mi>p</mi><mi>G</mi><mi>r</mi><mi>a</mi><mi>d</mi><mi>i</mi><mi>e</mi><mi>n</mi><mi>t</mi><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><msup><mo stretchy="false">)</mo><mi>γ</mi></msup><mo stretchy="false">)</mo><mtext> </mtext><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></math></span></span></span><script type="math/tex;mode=display" id="MathJax-Element-6">FGL(p) \propto - StopGradient((1-p)^\gamma) \ log(p)</script></div><h3>Comparing the objective functions</h3><p>Its hard to understand it comparitively with the <span><span class="MathJax_Preview" style="color:inherit;display:none"></span><span class="mjx-chtml MathJax_CHTML" id="MathJax-Element-7-Frame" style="font-size:109%;position:relative" data-mathml='<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>S</mi><mi>t</mi><mi>o</mi><mi>p</mi><mi>G</mi><mi>r</mi><mi>a</mi><mi>d</mi><mi>i</mi><mi>e</mi><mi>n</mi><mi>t</mi></math>' role="presentation" tabindex="0"><span class="mjx-math" id="MJXc-Node-88" aria-hidden="true"><span class="mjx-mrow" id="MJXc-Node-89"><span class="mjx-mi" id="MJXc-Node-90"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.462em;padding-bottom:.29em;padding-right:.032em">S</span></span><span class="mjx-mi" id="MJXc-Node-91"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.404em;padding-bottom:.29em">t</span></span><span class="mjx-mi" id="MJXc-Node-92"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.29em">o</span></span><span class="mjx-mi" id="MJXc-Node-93"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.462em">p</span></span><span class="mjx-mi" id="MJXc-Node-94"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.462em;padding-bottom:.29em">G</span></span><span class="mjx-mi" id="MJXc-Node-95"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.29em">r</span></span><span class="mjx-mi" id="MJXc-Node-96"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.29em">a</span></span><span class="mjx-mi" id="MJXc-Node-97"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.462em;padding-bottom:.29em;padding-right:.003em">d</span></span><span class="mjx-mi" id="MJXc-Node-98"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.462em;padding-bottom:.29em">i</span></span><span class="mjx-mi" id="MJXc-Node-99"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.29em">e</span></span><span class="mjx-mi" id="MJXc-Node-100"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.29em">n</span></span><span class="mjx-mi" id="MJXc-Node-101"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.404em;padding-bottom:.29em">t</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>S</mi><mi>t</mi><mi>o</mi><mi>p</mi><mi>G</mi><mi>r</mi><mi>a</mi><mi>d</mi><mi>i</mi><mi>e</mi><mi>n</mi><mi>t</mi></math></span></span><script type="math/tex;" id="MathJax-Element-7">StopGradient</script></span>function, so first lets look at their gradients</p><div><span class="MathJax_Preview" style="color:inherit;display:none"></span><span class="mjx-chtml MJXc-display" style="text-align:center"><span class="mjx-chtml MathJax_CHTML" id="MathJax-Element-8-Frame" style="font-size:109%;text-align:center;position:relative" data-mathml='<math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right left right left right left right left right left right left" rowspacing="3pt" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true"><mtr><mtd><mrow class="MJX-TeXAtom-ORD"><mover><mrow><mi>F</mi><mi>L</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></mrow><mo>&amp;#x02D9;</mo></mover></mrow></mtd><mtd><mi></mi><mo>=</mo><mo>&amp;#x2212;</mo><mfrac><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>&amp;#x2212;</mo><mi>p</mi><msup><mo stretchy="false">)</mo><mi>&amp;#x03B3;</mi></msup></mrow><mi>p</mi></mfrac><mo>+</mo><mi>&amp;#x03B3;</mi><mo stretchy="false">(</mo><mn>1</mn><mo>&amp;#x2212;</mo><mi>p</mi><msup><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mi>&amp;#x03B3;</mi><mo>&amp;#x2212;</mo><mn>1</mn></mrow></msup><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd /><mtd><mi></mi><mo>=</mo><mo>&amp;#x2212;</mo><mo stretchy="false">(</mo><mn>1</mn><mo>&amp;#x2212;</mo><mi>p</mi><msup><mo stretchy="false">)</mo><mi>&amp;#x03B3;</mi></msup><mtext>&amp;#xA0;</mtext><mrow class="MJX-TeXAtom-ORD"><mover><mrow><mi>C</mi><mi>E</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></mrow><mo>&amp;#x02D9;</mo></mover></mrow><mo>+</mo><mi>&amp;#x03B3;</mi><mo stretchy="false">(</mo><mn>1</mn><mo>&amp;#x2212;</mo><mi>p</mi><msup><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mi>&amp;#x03B3;</mi><mo>&amp;#x2212;</mo><mn>1</mn></mrow></msup><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd /><mtd><mi></mi><mo>=</mo><mo>&amp;#x2212;</mo><mo stretchy="false">(</mo><mn>1</mn><mo>&amp;#x2212;</mo><mi>p</mi><msup><mo stretchy="false">)</mo><mi>&amp;#x03B3;</mi></msup><mtext>&amp;#xA0;</mtext><mrow class="MJX-TeXAtom-ORD"><mover><mrow><mi>C</mi><mi>E</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></mrow><mo>&amp;#x02D9;</mo></mover></mrow><mo>+</mo><mi>R</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mrow class="MJX-TeXAtom-ORD"><mover><mrow><mi>F</mi><mi>G</mi><mi>L</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></mrow><mo>&amp;#x02D9;</mo></mover></mrow></mtd><mtd><mi></mi><mo>=</mo><mo>&amp;#x2212;</mo><mfrac><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>&amp;#x2212;</mo><mi>p</mi><msup><mo stretchy="false">)</mo><mi>&amp;#x03B3;</mi></msup></mrow><mi>p</mi></mfrac></mtd></mtr><mtr><mtd /><mtd><mi></mi><mo>=</mo><mo>&amp;#x2212;</mo><mo stretchy="false">(</mo><mn>1</mn><mo>&amp;#x2212;</mo><mi>p</mi><msup><mo stretchy="false">)</mo><mi>&amp;#x03B3;</mi></msup><mtext>&amp;#xA0;</mtext><mrow class="MJX-TeXAtom-ORD"><mover><mrow><mi>C</mi><mi>E</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></mrow><mo>&amp;#x02D9;</mo></mover></mrow><mtext>&amp;#xA0;</mtext></mtd></mtr></mtable></math>' role="presentation" tabindex="0"><span class="mjx-math" id="MJXc-Node-102" aria-hidden="true"><span class="mjx-mrow" id="MJXc-Node-103"><span class="mjx-mtable" id="MJXc-Node-104" style="vertical-align:-4.714em;padding:0 .167em"><span class="mjx-table"><span class="mjx-mtr" id="MJXc-Node-105" style="height:2.594em"><span class="mjx-mtd" id="MJXc-Node-106" style="padding:0;text-align:right;width:3.497em"><span class="mjx-mrow" id="MJXc-Node-107" style="margin-top:.534em"><span class="mjx-texatom" id="MJXc-Node-108"><span class="mjx-mrow" id="MJXc-Node-109"><span class="mjx-munderover" id="MJXc-Node-110"><span class="mjx-stack"><span class="mjx-over" style="height:.17em;padding-bottom:.06em;padding-left:1.106em"><span class="mjx-mo" id="MJXc-Node-117" style="vertical-align:top"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.404em;padding-bottom:.29em">˙</span></span></span><span class="mjx-op"><span class="mjx-mrow" id="MJXc-Node-111"><span class="mjx-mi" id="MJXc-Node-112"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.462em;padding-bottom:.29em;padding-right:.106em">F</span></span><span class="mjx-mi" id="MJXc-Node-113"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.462em;padding-bottom:.29em">L</span></span><span class="mjx-mo" id="MJXc-Node-114"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">(</span></span><span class="mjx-mi" id="MJXc-Node-115"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.462em">p</span></span><span class="mjx-mo" id="MJXc-Node-116"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">)</span></span></span></span></span></span></span></span><span class="mjx-strut"></span></span></span><span class="mjx-mtd" id="MJXc-Node-118" style="padding:0;text-align:left;width:17.475em"><span class="mjx-mrow" id="MJXc-Node-119"><span class="mjx-mi" id="MJXc-Node-120"></span><span class="mjx-mo MJXc-space3" id="MJXc-Node-121"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.06em;padding-bottom:.29em">=</span></span><span class="mjx-mo MJXc-space3" id="MJXc-Node-122"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.29em;padding-bottom:.404em">−</span></span><span class="mjx-mfrac" id="MJXc-Node-123"><span class="mjx-box MJXc-stacked" style="width:3.623em;padding:0 .12em"><span class="mjx-numerator" style="width:3.623em;top:-1.539em"><span class="mjx-mrow" id="MJXc-Node-124"><span class="mjx-mo" id="MJXc-Node-125"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">(</span></span><span class="mjx-mn" id="MJXc-Node-126"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.404em;padding-bottom:.347em">1</span></span><span class="mjx-mo MJXc-space2" id="MJXc-Node-127"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.29em;padding-bottom:.404em">−</span></span><span class="mjx-mi MJXc-space2" id="MJXc-Node-128"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.462em">p</span></span><span class="mjx-msubsup" id="MJXc-Node-129"><span class="mjx-base"><span class="mjx-mo" id="MJXc-Node-130"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">)</span></span></span><span class="mjx-sup" style="font-size:70.7%;vertical-align:.513em;padding-left:0;padding-right:.071em"><span class="mjx-mi" id="MJXc-Node-131" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.519em;padding-right:.025em">γ</span></span></span></span></span></span><span class="mjx-denominator" style="width:3.623em;bottom:-.905em"><span class="mjx-mi" id="MJXc-Node-132"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.462em">p</span></span></span><span class="mjx-line" style="border-bottom:1.3px solid;top:-.286em;width:3.623em"></span></span><span class="mjx-vsize" style="height:2.444em;vertical-align:-.905em"></span></span><span class="mjx-mo MJXc-space2" id="MJXc-Node-133"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.29em;padding-bottom:.404em">+</span></span><span class="mjx-mi MJXc-space2" id="MJXc-Node-134"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.519em;padding-right:.025em">γ</span></span><span class="mjx-mo" id="MJXc-Node-135"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">(</span></span><span class="mjx-mn" id="MJXc-Node-136"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.404em;padding-bottom:.347em">1</span></span><span class="mjx-mo MJXc-space2" id="MJXc-Node-137"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.29em;padding-bottom:.404em">−</span></span><span class="mjx-mi MJXc-space2" id="MJXc-Node-138"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.462em">p</span></span><span class="mjx-msubsup" id="MJXc-Node-139"><span class="mjx-base"><span class="mjx-mo" id="MJXc-Node-140"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">)</span></span></span><span class="mjx-sup" style="font-size:70.7%;vertical-align:.584em;padding-left:0;padding-right:.071em"><span class="mjx-texatom" id="MJXc-Node-141" style=""><span class="mjx-mrow" id="MJXc-Node-142"><span class="mjx-mi" id="MJXc-Node-143"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.519em;padding-right:.025em">γ</span></span><span class="mjx-mo" id="MJXc-Node-144"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.29em;padding-bottom:.404em">−</span></span><span class="mjx-mn" id="MJXc-Node-145"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.404em;padding-bottom:.347em">1</span></span></span></span></span></span><span class="mjx-mtext" id="MJXc-Node-146"><span class="mjx-char MJXc-TeX-main-R" style="margin-top:-.284em;padding-bottom:.347em"> </span></span><span class="mjx-mi" id="MJXc-Node-147"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.462em;padding-bottom:.29em">l</span></span><span class="mjx-mi" id="MJXc-Node-148"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.29em">o</span></span><span class="mjx-mi" id="MJXc-Node-149"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.462em;padding-right:.003em">g</span></span><span class="mjx-mo" id="MJXc-Node-150"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">(</span></span><span class="mjx-mi" id="MJXc-Node-151"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.462em">p</span></span><span class="mjx-mo" id="MJXc-Node-152"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">)</span></span><span class="mjx-strut"></span></span></span></span><span class="mjx-mtr" id="MJXc-Node-153" style="height:1.58em"><span class="mjx-mtd" id="MJXc-Node-154" style="padding:.15em 0 0;text-align:right"><span class="mjx-mrow" id="MJXc-Node-155" style="margin-top:.005em"><span class="mjx-strut"></span></span></span><span class="mjx-mtd" id="MJXc-Node-156" style="padding:.15em 0 0;text-align:left"><span class="mjx-mrow" id="MJXc-Node-157"><span class="mjx-mi" id="MJXc-Node-158"></span><span class="mjx-mo MJXc-space3" id="MJXc-Node-159"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.06em;padding-bottom:.29em">=</span></span><span class="mjx-mo MJXc-space3" id="MJXc-Node-160"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.29em;padding-bottom:.404em">−</span></span><span class="mjx-mo" id="MJXc-Node-161"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">(</span></span><span class="mjx-mn" id="MJXc-Node-162"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.404em;padding-bottom:.347em">1</span></span><span class="mjx-mo MJXc-space2" id="MJXc-Node-163"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.29em;padding-bottom:.404em">−</span></span><span class="mjx-mi MJXc-space2" id="MJXc-Node-164"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.462em">p</span></span><span class="mjx-msubsup" id="MJXc-Node-165"><span class="mjx-base"><span class="mjx-mo" id="MJXc-Node-166"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">)</span></span></span><span class="mjx-sup" style="font-size:70.7%;vertical-align:.584em;padding-left:0;padding-right:.071em"><span class="mjx-mi" id="MJXc-Node-167" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.519em;padding-right:.025em">γ</span></span></span></span><span class="mjx-mtext" id="MJXc-Node-168"><span class="mjx-char MJXc-TeX-main-R" style="margin-top:-.284em;padding-bottom:.347em"> </span></span><span class="mjx-texatom" id="MJXc-Node-169"><span class="mjx-mrow" id="MJXc-Node-170"><span class="mjx-munderover" id="MJXc-Node-171"><span class="mjx-stack"><span class="mjx-over" style="height:.17em;padding-bottom:.06em;padding-left:1.152em"><span class="mjx-mo" id="MJXc-Node-178" style="vertical-align:top"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.404em;padding-bottom:.29em">˙</span></span></span><span class="mjx-op"><span class="mjx-mrow" id="MJXc-Node-172"><span class="mjx-mi" id="MJXc-Node-173"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.462em;padding-bottom:.29em;padding-right:.045em">C</span></span><span class="mjx-mi" id="MJXc-Node-174"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.462em;padding-bottom:.29em;padding-right:.026em">E</span></span><span class="mjx-mo" id="MJXc-Node-175"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">(</span></span><span class="mjx-mi" id="MJXc-Node-176"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.462em">p</span></span><span class="mjx-mo" id="MJXc-Node-177"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">)</span></span></span></span></span></span></span></span><span class="mjx-mo MJXc-space2" id="MJXc-Node-179"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.29em;padding-bottom:.404em">+</span></span><span class="mjx-mi MJXc-space2" id="MJXc-Node-180"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.519em;padding-right:.025em">γ</span></span><span class="mjx-mo" id="MJXc-Node-181"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">(</span></span><span class="mjx-mn" id="MJXc-Node-182"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.404em;padding-bottom:.347em">1</span></span><span class="mjx-mo MJXc-space2" id="MJXc-Node-183"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.29em;padding-bottom:.404em">−</span></span><span class="mjx-mi MJXc-space2" id="MJXc-Node-184"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.462em">p</span></span><span class="mjx-msubsup" id="MJXc-Node-185"><span class="mjx-base"><span class="mjx-mo" id="MJXc-Node-186"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">)</span></span></span><span class="mjx-sup" style="font-size:70.7%;vertical-align:.584em;padding-left:0;padding-right:.071em"><span class="mjx-texatom" id="MJXc-Node-187" style=""><span class="mjx-mrow" id="MJXc-Node-188"><span class="mjx-mi" id="MJXc-Node-189"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.519em;padding-right:.025em">γ</span></span><span class="mjx-mo" id="MJXc-Node-190"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.29em;padding-bottom:.404em">−</span></span><span class="mjx-mn" id="MJXc-Node-191"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.404em;padding-bottom:.347em">1</span></span></span></span></span></span><span class="mjx-mtext" id="MJXc-Node-192"><span class="mjx-char MJXc-TeX-main-R" style="margin-top:-.284em;padding-bottom:.347em"> </span></span><span class="mjx-mi" id="MJXc-Node-193"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.462em;padding-bottom:.29em">l</span></span><span class="mjx-mi" id="MJXc-Node-194"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.29em">o</span></span><span class="mjx-mi" id="MJXc-Node-195"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.462em;padding-right:.003em">g</span></span><span class="mjx-mo" id="MJXc-Node-196"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">(</span></span><span class="mjx-mi" id="MJXc-Node-197"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.462em">p</span></span><span class="mjx-mo" id="MJXc-Node-198"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">)</span></span><span class="mjx-strut"></span></span></span></span><span class="mjx-mtr" id="MJXc-Node-199" style="height:1.58em"><span class="mjx-mtd" id="MJXc-Node-200" style="padding:.15em 0 0;text-align:right"><span class="mjx-mrow" id="MJXc-Node-201" style="margin-top:.005em"><span class="mjx-strut"></span></span></span><span class="mjx-mtd" id="MJXc-Node-202" style="padding:.15em 0 0;text-align:left"><span class="mjx-mrow" id="MJXc-Node-203"><span class="mjx-mi" id="MJXc-Node-204"></span><span class="mjx-mo MJXc-space3" id="MJXc-Node-205"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.06em;padding-bottom:.29em">=</span></span><span class="mjx-mo MJXc-space3" id="MJXc-Node-206"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.29em;padding-bottom:.404em">−</span></span><span class="mjx-mo" id="MJXc-Node-207"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">(</span></span><span class="mjx-mn" id="MJXc-Node-208"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.404em;padding-bottom:.347em">1</span></span><span class="mjx-mo MJXc-space2" id="MJXc-Node-209"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.29em;padding-bottom:.404em">−</span></span><span class="mjx-mi MJXc-space2" id="MJXc-Node-210"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.462em">p</span></span><span class="mjx-msubsup" id="MJXc-Node-211"><span class="mjx-base"><span class="mjx-mo" id="MJXc-Node-212"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">)</span></span></span><span class="mjx-sup" style="font-size:70.7%;vertical-align:.584em;padding-left:0;padding-right:.071em"><span class="mjx-mi" id="MJXc-Node-213" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.519em;padding-right:.025em">γ</span></span></span></span><span class="mjx-mtext" id="MJXc-Node-214"><span class="mjx-char MJXc-TeX-main-R" style="margin-top:-.284em;padding-bottom:.347em"> </span></span><span class="mjx-texatom" id="MJXc-Node-215"><span class="mjx-mrow" id="MJXc-Node-216"><span class="mjx-munderover" id="MJXc-Node-217"><span class="mjx-stack"><span class="mjx-over" style="height:.17em;padding-bottom:.06em;padding-left:1.152em"><span class="mjx-mo" id="MJXc-Node-224" style="vertical-align:top"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.404em;padding-bottom:.29em">˙</span></span></span><span class="mjx-op"><span class="mjx-mrow" id="MJXc-Node-218"><span class="mjx-mi" id="MJXc-Node-219"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.462em;padding-bottom:.29em;padding-right:.045em">C</span></span><span class="mjx-mi" id="MJXc-Node-220"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.462em;padding-bottom:.29em;padding-right:.026em">E</span></span><span class="mjx-mo" id="MJXc-Node-221"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">(</span></span><span class="mjx-mi" id="MJXc-Node-222"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.462em">p</span></span><span class="mjx-mo" id="MJXc-Node-223"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">)</span></span></span></span></span></span></span></span><span class="mjx-mo MJXc-space2" id="MJXc-Node-225"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.29em;padding-bottom:.404em">+</span></span><span class="mjx-mi MJXc-space2" id="MJXc-Node-226"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.462em;padding-bottom:.29em">R</span></span><span class="mjx-mo" id="MJXc-Node-227"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">(</span></span><span class="mjx-mi" id="MJXc-Node-228"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.462em">p</span></span><span class="mjx-mo" id="MJXc-Node-229"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">)</span></span><span class="mjx-strut"></span></span></span></span><span class="mjx-mtr" id="MJXc-Node-230" style="height:2.744em"><span class="mjx-mtd" id="MJXc-Node-231" style="padding:.15em 0 0;text-align:right"><span class="mjx-mrow" id="MJXc-Node-232" style="margin-top:.534em"><span class="mjx-texatom" id="MJXc-Node-233"><span class="mjx-mrow" id="MJXc-Node-234"><span class="mjx-munderover" id="MJXc-Node-235"><span class="mjx-stack"><span class="mjx-over" style="height:.17em;padding-bottom:.06em;padding-left:1.499em"><span class="mjx-mo" id="MJXc-Node-243" style="vertical-align:top"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.404em;padding-bottom:.29em">˙</span></span></span><span class="mjx-op"><span class="mjx-mrow" id="MJXc-Node-236"><span class="mjx-mi" id="MJXc-Node-237"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.462em;padding-bottom:.29em;padding-right:.106em">F</span></span><span class="mjx-mi" id="MJXc-Node-238"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.462em;padding-bottom:.29em">G</span></span><span class="mjx-mi" id="MJXc-Node-239"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.462em;padding-bottom:.29em">L</span></span><span class="mjx-mo" id="MJXc-Node-240"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">(</span></span><span class="mjx-mi" id="MJXc-Node-241"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.462em">p</span></span><span class="mjx-mo" id="MJXc-Node-242"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">)</span></span></span></span></span></span></span></span><span class="mjx-strut"></span></span></span><span class="mjx-mtd" id="MJXc-Node-244" style="padding:.15em 0 0;text-align:left"><span class="mjx-mrow" id="MJXc-Node-245"><span class="mjx-mi" id="MJXc-Node-246"></span><span class="mjx-mo MJXc-space3" id="MJXc-Node-247"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.06em;padding-bottom:.29em">=</span></span><span class="mjx-mo MJXc-space3" id="MJXc-Node-248"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.29em;padding-bottom:.404em">−</span></span><span class="mjx-mfrac" id="MJXc-Node-249"><span class="mjx-box MJXc-stacked" style="width:3.623em;padding:0 .12em"><span class="mjx-numerator" style="width:3.623em;top:-1.539em"><span class="mjx-mrow" id="MJXc-Node-250"><span class="mjx-mo" id="MJXc-Node-251"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">(</span></span><span class="mjx-mn" id="MJXc-Node-252"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.404em;padding-bottom:.347em">1</span></span><span class="mjx-mo MJXc-space2" id="MJXc-Node-253"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.29em;padding-bottom:.404em">−</span></span><span class="mjx-mi MJXc-space2" id="MJXc-Node-254"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.462em">p</span></span><span class="mjx-msubsup" id="MJXc-Node-255"><span class="mjx-base"><span class="mjx-mo" id="MJXc-Node-256"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">)</span></span></span><span class="mjx-sup" style="font-size:70.7%;vertical-align:.513em;padding-left:0;padding-right:.071em"><span class="mjx-mi" id="MJXc-Node-257" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.519em;padding-right:.025em">γ</span></span></span></span></span></span><span class="mjx-denominator" style="width:3.623em;bottom:-.905em"><span class="mjx-mi" id="MJXc-Node-258"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.462em">p</span></span></span><span class="mjx-line" style="border-bottom:1.3px solid;top:-.286em;width:3.623em"></span></span><span class="mjx-vsize" style="height:2.444em;vertical-align:-.905em"></span></span><span class="mjx-strut"></span></span></span></span><span class="mjx-mtr" id="MJXc-Node-259" style="height:1.43em"><span class="mjx-mtd" id="MJXc-Node-260" style="padding:.15em 0 0;text-align:right"><span class="mjx-mrow" id="MJXc-Node-261" style="margin-top:.005em"><span class="mjx-strut"></span></span></span><span class="mjx-mtd" id="MJXc-Node-262" style="padding:.15em 0 0;text-align:left"><span class="mjx-mrow" id="MJXc-Node-263"><span class="mjx-mi" id="MJXc-Node-264"></span><span class="mjx-mo MJXc-space3" id="MJXc-Node-265"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.06em;padding-bottom:.29em">=</span></span><span class="mjx-mo MJXc-space3" id="MJXc-Node-266"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.29em;padding-bottom:.404em">−</span></span><span class="mjx-mo" id="MJXc-Node-267"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">(</span></span><span class="mjx-mn" id="MJXc-Node-268"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.404em;padding-bottom:.347em">1</span></span><span class="mjx-mo MJXc-space2" id="MJXc-Node-269"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.29em;padding-bottom:.404em">−</span></span><span class="mjx-mi MJXc-space2" id="MJXc-Node-270"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.462em">p</span></span><span class="mjx-msubsup" id="MJXc-Node-271"><span class="mjx-base"><span class="mjx-mo" id="MJXc-Node-272"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">)</span></span></span><span class="mjx-sup" style="font-size:70.7%;vertical-align:.584em;padding-left:0;padding-right:.071em"><span class="mjx-mi" id="MJXc-Node-273" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.519em;padding-right:.025em">γ</span></span></span></span><span class="mjx-mtext" id="MJXc-Node-274"><span class="mjx-char MJXc-TeX-main-R" style="margin-top:-.284em;padding-bottom:.347em"> </span></span><span class="mjx-texatom" id="MJXc-Node-275"><span class="mjx-mrow" id="MJXc-Node-276"><span class="mjx-munderover" id="MJXc-Node-277"><span class="mjx-stack"><span class="mjx-over" style="height:.17em;padding-bottom:.06em;padding-left:1.152em"><span class="mjx-mo" id="MJXc-Node-284" style="vertical-align:top"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.404em;padding-bottom:.29em">˙</span></span></span><span class="mjx-op"><span class="mjx-mrow" id="MJXc-Node-278"><span class="mjx-mi" id="MJXc-Node-279"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.462em;padding-bottom:.29em;padding-right:.045em">C</span></span><span class="mjx-mi" id="MJXc-Node-280"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.462em;padding-bottom:.29em;padding-right:.026em">E</span></span><span class="mjx-mo" id="MJXc-Node-281"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">(</span></span><span class="mjx-mi" id="MJXc-Node-282"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.462em">p</span></span><span class="mjx-mo" id="MJXc-Node-283"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">)</span></span></span></span></span></span></span></span><span class="mjx-mtext" id="MJXc-Node-285"><span class="mjx-char MJXc-TeX-main-R" style="margin-top:-.284em;padding-bottom:.347em"> </span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right left right left right left right left right left right left" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true" rowspacing="3pt"><mtr><mtd><mrow class="MJX-TeXAtom-ORD"><mover><mrow><mi>F</mi><mi>L</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></mrow><mo>˙</mo></mover></mrow></mtd><mtd><mi></mi><mo>=</mo><mo>−</mo><mfrac><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><msup><mo stretchy="false">)</mo><mi>γ</mi></msup></mrow><mi>p</mi></mfrac><mo>+</mo><mi>γ</mi><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><msup><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mi>γ</mi><mo>−</mo><mn>1</mn></mrow></msup><mtext> </mtext><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd></mtd><mtd><mi></mi><mo>=</mo><mo>−</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><msup><mo stretchy="false">)</mo><mi>γ</mi></msup><mtext> </mtext><mrow class="MJX-TeXAtom-ORD"><mover><mrow><mi>C</mi><mi>E</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></mrow><mo>˙</mo></mover></mrow><mo>+</mo><mi>γ</mi><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><msup><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mi>γ</mi><mo>−</mo><mn>1</mn></mrow></msup><mtext> </mtext><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd></mtd><mtd><mi></mi><mo>=</mo><mo>−</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><msup><mo stretchy="false">)</mo><mi>γ</mi></msup><mtext> </mtext><mrow class="MJX-TeXAtom-ORD"><mover><mrow><mi>C</mi><mi>E</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></mrow><mo>˙</mo></mover></mrow><mo>+</mo><mi>R</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mrow class="MJX-TeXAtom-ORD"><mover><mrow><mi>F</mi><mi>G</mi><mi>L</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></mrow><mo>˙</mo></mover></mrow></mtd><mtd><mi></mi><mo>=</mo><mo>−</mo><mfrac><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><msup><mo stretchy="false">)</mo><mi>γ</mi></msup></mrow><mi>p</mi></mfrac></mtd></mtr><mtr><mtd></mtd><mtd><mi></mi><mo>=</mo><mo>−</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><msup><mo stretchy="false">)</mo><mi>γ</mi></msup><mtext> </mtext><mrow class="MJX-TeXAtom-ORD"><mover><mrow><mi>C</mi><mi>E</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></mrow><mo>˙</mo></mover></mrow><mtext> </mtext></mtd></mtr></mtable></math></span></span></span><script type="math/tex;mode=display" id="MathJax-Element-8">\begin{align}
      \dot{FL(p)} &= - \frac{(1-p)^\gamma }{p} + \gamma (1-p)^{\gamma - 1} \ log(p)\\
      &= -(1-p)^\gamma \ \dot{CE(p)} + \gamma (1-p)^{\gamma - 1} \ log(p)\\
      &= -(1-p)^\gamma \ \dot{CE(p)} + R(p) \\
      \dot{FGL(p)} &= - \frac{(1-p)^\gamma }{p} \\
      &= -(1-p)^\gamma \ \dot{CE(p)}  \
  \end{align}</script></div><p>Looking at these, we see the focal-loss is a masked version of adaptive weighting plus a residual, <span><span class="MathJax_Preview" style="color:inherit;display:none"></span><span class="mjx-chtml MathJax_CHTML" id="MathJax-Element-9-Frame" style="font-size:109%;position:relative" data-mathml='<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>R</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></math>' role="presentation" tabindex="0"><span class="mjx-math" id="MJXc-Node-286" aria-hidden="true"><span class="mjx-mrow" id="MJXc-Node-287"><span class="mjx-mi" id="MJXc-Node-288"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.462em;padding-bottom:.29em">R</span></span><span class="mjx-mo" id="MJXc-Node-289"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">(</span></span><span class="mjx-mi" id="MJXc-Node-290"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.462em">p</span></span><span class="mjx-mo" id="MJXc-Node-291"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>R</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex;" id="MathJax-Element-9">R(p)</script></span>. This is the differentiating factor in the two appraoches. We can rewrite the residual as <span><span class="MathJax_Preview" style="color:inherit;display:none"></span><span class="mjx-chtml MathJax_CHTML" id="MathJax-Element-10-Frame" style="font-size:109%;position:relative" data-mathml='<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>R</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo><mo>=</mo><mo>&amp;#x2212;</mo><mi>&amp;#x03B3;</mi><mo>&amp;#x2217;</mo><mi>F</mi><msub><mi>L</mi><mrow class="MJX-TeXAtom-ORD"><mi>&amp;#x03B3;</mi><mo>&amp;#x2212;</mo><mn>1</mn></mrow></msub><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></math>' role="presentation" tabindex="0"><span class="mjx-math" id="MJXc-Node-292" aria-hidden="true"><span class="mjx-mrow" id="MJXc-Node-293"><span class="mjx-mi" id="MJXc-Node-294"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.462em;padding-bottom:.29em">R</span></span><span class="mjx-mo" id="MJXc-Node-295"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">(</span></span><span class="mjx-mi" id="MJXc-Node-296"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.462em">p</span></span><span class="mjx-mo" id="MJXc-Node-297"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">)</span></span><span class="mjx-mo MJXc-space3" id="MJXc-Node-298"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.06em;padding-bottom:.29em">=</span></span><span class="mjx-mo MJXc-space3" id="MJXc-Node-299"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.29em;padding-bottom:.404em">−</span></span><span class="mjx-mi" id="MJXc-Node-300"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.519em;padding-right:.025em">γ</span></span><span class="mjx-mo MJXc-space2" id="MJXc-Node-301"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.175em;padding-bottom:.29em">∗</span></span><span class="mjx-mi MJXc-space2" id="MJXc-Node-302"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.462em;padding-bottom:.29em;padding-right:.106em">F</span></span><span class="mjx-msubsup" id="MJXc-Node-303"><span class="mjx-base"><span class="mjx-mi" id="MJXc-Node-304"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.462em;padding-bottom:.29em">L</span></span></span><span class="mjx-sub" style="font-size:70.7%;vertical-align:-.212em;padding-right:.071em"><span class="mjx-texatom" id="MJXc-Node-305" style=""><span class="mjx-mrow" id="MJXc-Node-306"><span class="mjx-mi" id="MJXc-Node-307"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.519em;padding-right:.025em">γ</span></span><span class="mjx-mo" id="MJXc-Node-308"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.29em;padding-bottom:.404em">−</span></span><span class="mjx-mn" id="MJXc-Node-309"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.404em;padding-bottom:.347em">1</span></span></span></span></span></span><span class="mjx-mo" id="MJXc-Node-310"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">(</span></span><span class="mjx-mi" id="MJXc-Node-311"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.462em">p</span></span><span class="mjx-mo" id="MJXc-Node-312"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.462em;padding-bottom:.576em">)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>R</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><mi>γ</mi><mo>∗</mo><mi>F</mi><msub><mi>L</mi><mrow class="MJX-TeXAtom-ORD"><mi>γ</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex;" id="MathJax-Element-10">R(p) = -\gamma * FL_{\gamma -1}(p)</script></span>. It is difficult to say what this does in the optimization perspective, but in terms of sheer magnitude it will always increase the gradient (because the gradient is always negative), moreso if a loss variant is high. This is difficult to describe intuitively but it may be be seen as an additive adaptive bias. This actually increases the spread if you do the math out which may be seen as a benefit but difficult to say for certain, which is why I perform this experiment.</p><div><p align="center"><img src="/images/FocalGradientLoss/focal_gradients.png" width="900px"></p></div><p>Even though stop_gradient makes it not easily comparable in the loss space, we can integrate its gradient to see its effective equivalent. For values of <span><span class="MathJax_Preview" style="color:inherit;display:none"></span><span class="mjx-chtml MathJax_CHTML" id="MathJax-Element-11-Frame" style="font-size:110%;position:relative" data-mathml='<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>&amp;#x03B3;</mi></math>' role="presentation" tabindex="0"><span class="mjx-math" id="MJXc-Node-313" aria-hidden="true"><span class="mjx-mrow" id="MJXc-Node-314"><span class="mjx-mi" id="MJXc-Node-315"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.514em;padding-right:.025em">γ</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>γ</mi></math></span></span><script type="math/tex;" id="MathJax-Element-11">\gamma</script></span>that arent integers, the integral becomes alot more complicated, so for ease lets just look at the integer case</p><div><span class="MathJax_Preview" style="color:inherit;display:none"></span><span class="mjx-chtml MJXc-display" style="text-align:center"><span class="mjx-chtml MathJax_CHTML" id="MathJax-Element-12-Frame" style="font-size:110%;text-align:center;position:relative" data-mathml='<math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right left right left right left right left right left right left" rowspacing="3pt" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true"><mtr><mtd><mi>L</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></mtd><mtd><mi></mi><mo>=</mo><msubsup><mo>&amp;#x222B;</mo><mrow class="MJX-TeXAtom-ORD"><mi>z</mi><mo>=</mo><mn>1</mn></mrow><mi>p</mi></msubsup><mo>&amp;#x2212;</mo><mfrac><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>&amp;#x2212;</mo><mi>z</mi><msup><mo stretchy="false">)</mo><mi>&amp;#x03B3;</mi></msup></mrow><mi>z</mi></mfrac><mi>d</mi><mi>z</mi></mtd></mtr><mtr><mtd /><mtd><mi></mi><mo>=</mo><mo>&amp;#x2212;</mo><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo><mo>&amp;#x2212;</mo><munderover><mo>&amp;#x2211;</mo><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>&amp;#x03B3;</mi></munderover><mrow class="MJX-TeXAtom-ORD"><mrow><mrow class="MJX-TeXAtom-OPEN"><mo maxsize="2.047em" minsize="2.047em">(</mo></mrow><mfrac linethickness="0"><mi>&amp;#x03B3;</mi><mi>i</mi></mfrac><mrow class="MJX-TeXAtom-CLOSE"><mo maxsize="2.047em" minsize="2.047em">)</mo></mrow></mrow></mrow><mfrac><mrow><mo stretchy="false">(</mo><mo>&amp;#x2212;</mo><mi>p</mi><msup><mo stretchy="false">)</mo><mi>i</mi></msup><mo>&amp;#x2212;</mo><mo stretchy="false">(</mo><mo>&amp;#x2212;</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mi>i</mi></msup></mrow><mi>i</mi></mfrac><mtext>&amp;#xA0;</mtext></mtd></mtr></mtable></math>' role="presentation" tabindex="0"><span class="mjx-math" id="MJXc-Node-316" aria-hidden="true"><span class="mjx-mrow" id="MJXc-Node-317"><span class="mjx-mtable" id="MJXc-Node-318" style="vertical-align:-2.613em;padding:0 .167em"><span class="mjx-table"><span class="mjx-mtr" id="MJXc-Node-319" style="height:2.634em"><span class="mjx-mtd" id="MJXc-Node-320" style="padding:0;text-align:right;width:1.962em"><span class="mjx-mrow" id="MJXc-Node-321" style="margin-top:.538em"><span class="mjx-mi" id="MJXc-Node-322"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.457em;padding-bottom:.287em">L</span></span><span class="mjx-mo" id="MJXc-Node-323"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.457em;padding-bottom:.571em">(</span></span><span class="mjx-mi" id="MJXc-Node-324"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.457em">p</span></span><span class="mjx-mo" id="MJXc-Node-325"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.457em;padding-bottom:.571em">)</span></span><span class="mjx-strut"></span></span></span><span class="mjx-mtd" id="MJXc-Node-326" style="padding:0;text-align:left;width:15.868em"><span class="mjx-mrow" id="MJXc-Node-327"><span class="mjx-mi" id="MJXc-Node-328"></span><span class="mjx-mo MJXc-space3" id="MJXc-Node-329"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.06em;padding-bottom:.344em">=</span></span><span class="mjx-msubsup MJXc-space3" id="MJXc-Node-330"><span class="mjx-base" style="margin-right:-.388em"><span class="mjx-mo" id="MJXc-Node-331" style="vertical-align:.001em;padding-right:.388em"><span class="mjx-char MJXc-TeX-size2-R" style="padding-top:1.139em;padding-bottom:1.139em">∫</span></span></span><span class="mjx-stack" style="vertical-align:-.921em"><span class="mjx-sup" style="font-size:70.7%;padding-bottom:1.967em;padding-left:.784em;padding-right:.071em"><span class="mjx-mi" id="MJXc-Node-337" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.457em">p</span></span></span><span class="mjx-sub" style="font-size:70.7%;padding-right:.071em"><span class="mjx-texatom" id="MJXc-Node-332" style=""><span class="mjx-mrow" id="MJXc-Node-333"><span class="mjx-mi" id="MJXc-Node-334"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.287em;padding-right:.003em">z</span></span><span class="mjx-mo" id="MJXc-Node-335"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.06em;padding-bottom:.344em">=</span></span><span class="mjx-mn" id="MJXc-Node-336"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.401em;padding-bottom:.344em">1</span></span></span></span></span></span></span><span class="mjx-mo MJXc-space1" id="MJXc-Node-338"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.287em;padding-bottom:.401em">−</span></span><span class="mjx-mfrac" id="MJXc-Node-339"><span class="mjx-box MJXc-stacked" style="width:3.588em;padding:0 .12em"><span class="mjx-numerator" style="width:3.588em;top:-1.538em"><span class="mjx-mrow" id="MJXc-Node-340"><span class="mjx-mo" id="MJXc-Node-341"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.457em;padding-bottom:.571em">(</span></span><span class="mjx-mn" id="MJXc-Node-342"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.401em;padding-bottom:.344em">1</span></span><span class="mjx-mo MJXc-space2" id="MJXc-Node-343"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.287em;padding-bottom:.401em">−</span></span><span class="mjx-mi MJXc-space2" id="MJXc-Node-344"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.287em;padding-right:.003em">z</span></span><span class="mjx-msubsup" id="MJXc-Node-345"><span class="mjx-base"><span class="mjx-mo" id="MJXc-Node-346"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.457em;padding-bottom:.571em">)</span></span></span><span class="mjx-sup" style="font-size:70.7%;vertical-align:.513em;padding-left:0;padding-right:.071em"><span class="mjx-mi" id="MJXc-Node-347" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.514em;padding-right:.025em">γ</span></span></span></span></span></span><span class="mjx-denominator" style="width:3.588em;bottom:-.722em"><span class="mjx-mi" id="MJXc-Node-348"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.287em;padding-right:.003em">z</span></span></span><span class="mjx-line" style="border-bottom:1.3px solid;top:-.286em;width:3.588em"></span></span><span class="mjx-vsize" style="height:2.26em;vertical-align:-.722em"></span></span><span class="mjx-mi" id="MJXc-Node-349"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.457em;padding-bottom:.287em;padding-right:.003em">d</span></span><span class="mjx-mi" id="MJXc-Node-350"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.287em;padding-right:.003em">z</span></span><span class="mjx-strut"></span></span></span></span><span class="mjx-mtr" id="MJXc-Node-351" style="height:3.092em"><span class="mjx-mtd" id="MJXc-Node-352" style="padding:.15em 0 0;text-align:right"><span class="mjx-mrow" id="MJXc-Node-353" style="margin-top:.686em"><span class="mjx-strut"></span></span></span><span class="mjx-mtd" id="MJXc-Node-354" style="padding:.15em 0 0;text-align:left"><span class="mjx-mrow" id="MJXc-Node-355"><span class="mjx-mi" id="MJXc-Node-356"></span><span class="mjx-mo MJXc-space3" id="MJXc-Node-357"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.06em;padding-bottom:.344em">=</span></span><span class="mjx-mo MJXc-space3" id="MJXc-Node-358"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.287em;padding-bottom:.401em">−</span></span><span class="mjx-mi" id="MJXc-Node-359"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.457em;padding-bottom:.287em">l</span></span><span class="mjx-mi" id="MJXc-Node-360"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.287em">o</span></span><span class="mjx-mi" id="MJXc-Node-361"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.457em;padding-right:.003em">g</span></span><span class="mjx-mo" id="MJXc-Node-362"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.457em;padding-bottom:.571em">(</span></span><span class="mjx-mi" id="MJXc-Node-363"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.457em">p</span></span><span class="mjx-mo" id="MJXc-Node-364"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.457em;padding-bottom:.571em">)</span></span><span class="mjx-mo MJXc-space2" id="MJXc-Node-365"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.287em;padding-bottom:.401em">−</span></span><span class="mjx-munderover MJXc-space2" id="MJXc-Node-366"><span class="mjx-itable"><span class="mjx-row"><span class="mjx-cell"><span class="mjx-stack"><span class="mjx-over" style="font-size:70.7%;padding-bottom:.157em;padding-top:.141em;padding-left:.75em"><span class="mjx-mi" id="MJXc-Node-373" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.514em;padding-right:.025em">γ</span></span></span><span class="mjx-op"><span class="mjx-mo" id="MJXc-Node-367"><span class="mjx-char MJXc-TeX-size2-R" style="padding-top:.741em;padding-bottom:.741em">∑</span></span></span></span></span></span><span class="mjx-row"><span class="mjx-under" style="font-size:70.7%;padding-top:.236em;padding-bottom:.141em;padding-left:.21em"><span class="mjx-texatom" id="MJXc-Node-368" style=""><span class="mjx-mrow" id="MJXc-Node-369"><span class="mjx-mi" id="MJXc-Node-370"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.457em;padding-bottom:.287em">i</span></span><span class="mjx-mo" id="MJXc-Node-371"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.06em;padding-bottom:.344em">=</span></span><span class="mjx-mn" id="MJXc-Node-372"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.401em;padding-bottom:.344em">1</span></span></span></span></span></span></span></span><span class="mjx-texatom MJXc-space1" id="MJXc-Node-374"><span class="mjx-mrow" id="MJXc-Node-375"><span class="mjx-mrow" id="MJXc-Node-376"><span class="mjx-TeXmathchoice" id="MJXc-Node-377"><span class="mjx-texatom" id="MJXc-Node-378"><span class="mjx-mrow" id="MJXc-Node-379"><span class="mjx-mo" id="MJXc-Node-380"><span class="mjx-char MJXc-TeX-size3-R" style="padding-top:1.253em;padding-bottom:1.253em">(</span></span></span></span></span><span class="mjx-mfrac" id="MJXc-Node-381"><span class="mjx-box MJXc-stacked" style="width:.543em"><span class="mjx-numerator" style="width:.543em;top:-1.143em"><span class="mjx-mi" id="MJXc-Node-382"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.514em;padding-right:.025em">γ</span></span></span><span class="mjx-denominator" style="width:.543em;bottom:-.722em"><span class="mjx-mi" id="MJXc-Node-383"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.457em;padding-bottom:.287em">i</span></span></span></span><span class="mjx-vsize" style="height:1.864em;vertical-align:-.722em"></span></span><span class="mjx-TeXmathchoice" id="MJXc-Node-384"><span class="mjx-texatom" id="MJXc-Node-385"><span class="mjx-mrow" id="MJXc-Node-386"><span class="mjx-mo" id="MJXc-Node-387"><span class="mjx-char MJXc-TeX-size3-R" style="padding-top:1.253em;padding-bottom:1.253em">)</span></span></span></span></span></span></span></span><span class="mjx-mfrac" id="MJXc-Node-388"><span class="mjx-box MJXc-stacked" style="width:6.096em;padding:0 .12em"><span class="mjx-numerator" style="width:6.096em;top:-1.611em"><span class="mjx-mrow" id="MJXc-Node-389"><span class="mjx-mo" id="MJXc-Node-390"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.457em;padding-bottom:.571em">(</span></span><span class="mjx-mo" id="MJXc-Node-391"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.287em;padding-bottom:.401em">−</span></span><span class="mjx-mi" id="MJXc-Node-392"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.457em">p</span></span><span class="mjx-msubsup" id="MJXc-Node-393"><span class="mjx-base"><span class="mjx-mo" id="MJXc-Node-394"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.457em;padding-bottom:.571em">)</span></span></span><span class="mjx-sup" style="font-size:70.7%;vertical-align:.513em;padding-left:0;padding-right:.071em"><span class="mjx-mi" id="MJXc-Node-395" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.457em;padding-bottom:.287em">i</span></span></span></span><span class="mjx-mo MJXc-space2" id="MJXc-Node-396"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.287em;padding-bottom:.401em">−</span></span><span class="mjx-mo MJXc-space2" id="MJXc-Node-397"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.457em;padding-bottom:.571em">(</span></span><span class="mjx-mo" id="MJXc-Node-398"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.287em;padding-bottom:.401em">−</span></span><span class="mjx-mn" id="MJXc-Node-399"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.401em;padding-bottom:.344em">1</span></span><span class="mjx-msubsup" id="MJXc-Node-400"><span class="mjx-base"><span class="mjx-mo" id="MJXc-Node-401"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.457em;padding-bottom:.571em">)</span></span></span><span class="mjx-sup" style="font-size:70.7%;vertical-align:.513em;padding-left:0;padding-right:.071em"><span class="mjx-mi" id="MJXc-Node-402" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.457em;padding-bottom:.287em">i</span></span></span></span></span></span><span class="mjx-denominator" style="width:6.096em;bottom:-.722em"><span class="mjx-mi" id="MJXc-Node-403"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.457em;padding-bottom:.287em">i</span></span></span><span class="mjx-line" style="border-bottom:1.3px solid;top:-.286em;width:6.096em"></span></span><span class="mjx-vsize" style="height:2.332em;vertical-align:-.722em"></span></span><span class="mjx-mtext" id="MJXc-Node-404"><span class="mjx-char MJXc-TeX-main-R" style="margin-top:-.281em;padding-bottom:.344em"> </span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right left right left right left right left right left right left" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true" rowspacing="3pt"><mtr><mtd><mi>L</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></mtd><mtd><mi></mi><mo>=</mo><msubsup><mo>∫</mo><mrow class="MJX-TeXAtom-ORD"><mi>z</mi><mo>=</mo><mn>1</mn></mrow><mi>p</mi></msubsup><mo>−</mo><mfrac><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>z</mi><msup><mo stretchy="false">)</mo><mi>γ</mi></msup></mrow><mi>z</mi></mfrac><mi>d</mi><mi>z</mi></mtd></mtr><mtr><mtd></mtd><mtd><mi></mi><mo>=</mo><mo>−</mo><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo><mo>−</mo><munderover><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>γ</mi></munderover><mrow class="MJX-TeXAtom-ORD"><mrow><mrow class="MJX-TeXAtom-OPEN"><mo maxsize="2.047em" minsize="2.047em">(</mo></mrow><mfrac linethickness="0"><mi>γ</mi><mi>i</mi></mfrac><mrow class="MJX-TeXAtom-CLOSE"><mo maxsize="2.047em" minsize="2.047em">)</mo></mrow></mrow></mrow><mfrac><mrow><mo stretchy="false">(</mo><mo>−</mo><mi>p</mi><msup><mo stretchy="false">)</mo><mi>i</mi></msup><mo>−</mo><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mi>i</mi></msup></mrow><mi>i</mi></mfrac><mtext> </mtext></mtd></mtr></mtable></math></span></span></span><script type="math/tex;mode=display" id="MathJax-Element-12">\begin{aligned}
    L(p) &= \int_{z=1}^p -\frac{(1-z)^\gamma}{z} dz\\
    &= -log(p) - \sum_{i=1}^\gamma {\gamma \choose i}\frac{(-p)^i - (-1)^i}{i} \
\end{aligned}</script></div><p>Note that the bottom bound of the integral is arbitrary, because it only effects the constant, but since we set <span><span class="MathJax_Preview" style="color:inherit;display:none"></span><span class="mjx-chtml MathJax_CHTML" id="MathJax-Element-13-Frame" style="font-size:110%;position:relative" data-mathml='<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>F</mi><mi>G</mi><mi>L</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn></math>' role="presentation" tabindex="0"><span class="mjx-math" id="MJXc-Node-405" aria-hidden="true"><span class="mjx-mrow" id="MJXc-Node-406"><span class="mjx-mi" id="MJXc-Node-407"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.457em;padding-bottom:.287em;padding-right:.106em">F</span></span><span class="mjx-mi" id="MJXc-Node-408"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.457em;padding-bottom:.287em">G</span></span><span class="mjx-mi" id="MJXc-Node-409"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.457em;padding-bottom:.287em">L</span></span><span class="mjx-mo" id="MJXc-Node-410"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.457em;padding-bottom:.571em">(</span></span><span class="mjx-mn" id="MJXc-Node-411"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.401em;padding-bottom:.344em">1</span></span><span class="mjx-mo" id="MJXc-Node-412"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.457em;padding-bottom:.571em">)</span></span><span class="mjx-mo MJXc-space3" id="MJXc-Node-413"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.06em;padding-bottom:.344em">=</span></span><span class="mjx-mn MJXc-space3" id="MJXc-Node-414"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.401em;padding-bottom:.344em">0</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>F</mi><mi>G</mi><mi>L</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn></math></span></span><script type="math/tex;" id="MathJax-Element-13">FGL(1)=0</script></span>from the stop_gradient formulation, I use <span><span class="MathJax_Preview" style="color:inherit;display:none"></span><span class="mjx-chtml MathJax_CHTML" id="MathJax-Element-14-Frame" style="font-size:110%;position:relative" data-mathml='<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>z</mi><mo>=</mo><mn>1</mn></math>' role="presentation" tabindex="0"><span class="mjx-math" id="MJXc-Node-415" aria-hidden="true"><span class="mjx-mrow" id="MJXc-Node-416"><span class="mjx-mi" id="MJXc-Node-417"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.23em;padding-bottom:.287em;padding-right:.003em">z</span></span><span class="mjx-mo MJXc-space3" id="MJXc-Node-418"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.06em;padding-bottom:.344em">=</span></span><span class="mjx-mn MJXc-space3" id="MJXc-Node-419"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.401em;padding-bottom:.344em">1</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>z</mi><mo>=</mo><mn>1</mn></math></span></span><script type="math/tex;" id="MathJax-Element-14">z=1</script></span>to keep it consistent. Now plotting these we see the following</p><div><p align="center"><img src="/images/FocalGradientLoss/focal_objectives.png" width="900px"></p></div><p>As you can see, focal gradient loss is always lower than the respective focal loss which is understandable based on the spread differential caused by the Residual.<br><br></p><h3>Experiment</h3><p>Due to computational reasons, we will test on only the setting of <span><span class="MathJax_Preview" style="color:inherit;display:none"></span><span class="mjx-chtml MathJax_CHTML" id="MathJax-Element-15-Frame" style="font-size:109%;position:relative" data-mathml='<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>&amp;#x03B3;</mi><mo>=</mo><mn>2</mn></math>' role="presentation" tabindex="0"><span class="mjx-math" id="MJXc-Node-420" aria-hidden="true"><span class="mjx-mrow" id="MJXc-Node-421"><span class="mjx-mi" id="MJXc-Node-422"><span class="mjx-char MJXc-TeX-math-I" style="padding-top:.232em;padding-bottom:.519em;padding-right:.025em">γ</span></span><span class="mjx-mo MJXc-space3" id="MJXc-Node-423"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.06em;padding-bottom:.29em">=</span></span><span class="mjx-mn MJXc-space3" id="MJXc-Node-424"><span class="mjx-char MJXc-TeX-main-R" style="padding-top:.404em;padding-bottom:.347em">2</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>γ</mi><mo>=</mo><mn>2</mn></math></span></span><script type="math/tex;" id="MathJax-Element-15">\gamma = 2</script></span>for 15 epochs on PASCAL VOC 2012. We use the keras-retinanet open source package to do this. Only adjustments I add to the repo is make the custom loss function, and I adjust the training to work with Horovod for more efficient parallelization (I will take any speedups I can get :D)<br><br></p><div><p align="center"><img src="/images/FocalGradientLoss/fl_vs_fgl.png" width="900px"></p></div><p>Looking at the results we see they perform similarly. Focal Gradient Loss actually does have a slightly better mAP, but this could be due to noise produced in the training procedure. There is also more noise in general in the Focal Gradient Loss's training compared to Focal Losses-- this may be due to the lack of that additive bias. From this singular (and incomplete) experiment there isnt enough to make conclusions, but if I were forced to do so, I would say the perform similarly but Focal Gradient seems less robust.<br>I will hopefully be adding more experiments in the future. Stay tuned.</p></article></div><section id="sidebar"><section id="intro"><a href="/" class="logo"><img src="/images/other/faceshot.png" alt=""></a><header><h2>Michael E. Shliselberg</h2><p><a href="mailto:mishliselberg@gmail.com">mishliselberg@gmail.com</a></p></header></section><section class="blurb"><h2>About</h2><p>Hi, I'm Mike. I like using AI to solve various problems. My main interests are in automated knowledge extraction and information ecosystems</p><ul class="actions"><li><a href="/resume" class="button">Learn More</a></li></ul></section><section id="footer"><ul class="icons"><li><a href="https://github.com/mshlis"><svg aria-hidden="true" class="svg-inline--fa fa-github" data-icon="github" data-prefix="fab" focusable="false" role="img" viewBox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z" fill="currentColor"></path></svg></a></li><li><a href="https://www.linkedin.com/in/michael-shliselberg/"><svg aria-hidden="true" class="svg-inline--fa fa-linkedin-in" data-icon="linkedin-in" data-prefix="fab" focusable="false" role="img" viewBox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M100.3 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.6 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.3 61.9 111.3 142.3V448z" fill="currentColor"></path></svg></a></li><li><a href="mailto:mishliselberg@gmail.com"><svg aria-hidden="true" class="svg-inline--fa fa-envelope" data-icon="envelope" data-prefix="far" focusable="false" role="img" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M0 128C0 92.65 28.65 64 64 64H448C483.3 64 512 92.65 512 128V384C512 419.3 483.3 448 448 448H64C28.65 448 0 419.3 0 384V128zM48 128V150.1L220.5 291.7C241.1 308.7 270.9 308.7 291.5 291.7L464 150.1V127.1C464 119.2 456.8 111.1 448 111.1H64C55.16 111.1 48 119.2 48 127.1L48 128zM48 212.2V384C48 392.8 55.16 400 64 400H448C456.8 400 464 392.8 464 384V212.2L322 328.8C283.6 360.3 228.4 360.3 189.1 328.8L48 212.2z" fill="currentColor"></path></svg></a></li></ul><p class="copyright">© Michael D'Angelo <a href="/">mldangelo.com</a>.</p></section></section></div></div></body></html>